{"version":3,"file":"static/js/996.ed3ed18a.chunk.js","mappings":"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","sources":["utils.ts","components/Header.tsx","components/ColorSchemeToggle.tsx","components/SidebarNew.tsx","hooks/useLogout.ts","nav.js","views/dashboard/Dashboard.tsx","views/cases/CasesTable.tsx","lib/utils.tsx","views/cases/Cases.tsx","components/OrderList.tsx","views/assigned/AssignedAppointmentsTable.tsx","views/assigned/AssignedAppointments.tsx","components/CountrySelector.tsx","views/cases/CaseView/CaseView.tsx","views/addCase/AddCase.tsx","views/cases/CaseView/SurgeryDetails.tsx","views/cases/CaseView/ActivityLog.tsx","views/cases/CaseView/AddActivty.tsx","views/cases/CaseView/DetailView.tsx","views/calendar/WeekView.tsx","views/calendar/modules/BlockTimeModal.jsx","views/calendar/CalendarScreen.tsx","AppContent.tsx","AppLayout.tsx"],"sourcesContent":["export const openSidebar = () => {\r\n  if (typeof document !== 'undefined') {\r\n    document.body.style.overflow = 'hidden';\r\n    document.documentElement.style.setProperty('--SideNavigation-slideIn', '1');\r\n  }\r\n};\r\n\r\nexport const closeSidebar = () => {\r\n  if (typeof document !== 'undefined') {\r\n    document.documentElement.style.removeProperty('--SideNavigation-slideIn');\r\n    document.body.style.removeProperty('overflow');\r\n  }\r\n};\r\n\r\nexport const toggleSidebar = () => {\r\n  if (typeof window !== 'undefined' && typeof document !== 'undefined') {\r\n    const slideIn = window\r\n      .getComputedStyle(document.documentElement)\r\n      .getPropertyValue('--SideNavigation-slideIn');\r\n    if (slideIn) {\r\n      closeSidebar();\r\n    } else {\r\n      openSidebar();\r\n    }\r\n  }\r\n};\r\n","import * as React from 'react';\r\nimport GlobalStyles from '@mui/joy/GlobalStyles';\r\nimport Sheet from '@mui/joy/Sheet';\r\nimport IconButton from '@mui/joy/IconButton';\r\nimport MenuIcon from '@mui/icons-material/Menu';\r\n\r\nimport { toggleSidebar } from '../utils';\r\n\r\nexport default function Header() {\r\n  return (\r\n    <Sheet\r\n      sx={{\r\n        display: { xs: 'flex', md: 'none' },\r\n        alignItems: 'center',\r\n        justifyContent: 'space-between',\r\n        position: 'fixed',\r\n        top: 0,\r\n        width: '100vw',\r\n        height: 'var(--Header-height)',\r\n        zIndex: 9995,\r\n        p: 2,\r\n        gap: 1,\r\n        borderBottom: '1px solid',\r\n        borderColor: 'background.level1',\r\n        boxShadow: 'sm',\r\n      }}\r\n    >\r\n      <GlobalStyles\r\n        styles={(theme) => ({\r\n          ':root': {\r\n            '--Header-height': '52px',\r\n            [theme.breakpoints.up('md')]: {\r\n              '--Header-height': '0px',\r\n            },\r\n          },\r\n        })}\r\n      />\r\n      <IconButton\r\n        onClick={() => toggleSidebar()}\r\n        variant=\"outlined\"\r\n        color=\"neutral\"\r\n        size=\"sm\"\r\n      >\r\n        <MenuIcon />\r\n      </IconButton>\r\n    </Sheet>\r\n  );\r\n}\r\n","import * as React from 'react';\r\nimport { useColorScheme } from '@mui/joy/styles';\r\nimport IconButton, { IconButtonProps } from '@mui/joy/IconButton';\r\n\r\nimport DarkModeRoundedIcon from '@mui/icons-material/DarkModeRounded';\r\nimport LightModeIcon from '@mui/icons-material/LightMode';\r\n\r\nexport default function ColorSchemeToggle({\r\n  onClick,\r\n  sx,\r\n  ...props\r\n}: IconButtonProps) {\r\n  const { mode, setMode } = useColorScheme();\r\n  const [mounted, setMounted] = React.useState(false);\r\n  React.useEffect(() => {\r\n    setMounted(true);\r\n  }, []);\r\n  if (!mounted) {\r\n    return (\r\n      <IconButton\r\n        size=\"sm\"\r\n        variant=\"outlined\"\r\n        color=\"neutral\"\r\n        {...props}\r\n        sx={sx}\r\n        disabled\r\n      />\r\n    );\r\n  }\r\n  return (\r\n    <IconButton\r\n      id=\"toggle-mode\"\r\n      size=\"sm\"\r\n      variant=\"outlined\"\r\n      color=\"neutral\"\r\n      {...props}\r\n      onClick={(event) => {\r\n        if (mode === 'light') {\r\n          setMode('dark');\r\n        } else {\r\n          setMode('light');\r\n        }\r\n        onClick?.(event);\r\n      }}\r\n      sx={[\r\n        {\r\n          '& > *:first-child': {\r\n            display: mode === 'dark' ? 'none' : 'initial',\r\n          },\r\n          '& > *:last-child': {\r\n            display: mode === 'light' ? 'none' : 'initial',\r\n          },\r\n        },\r\n        ...(Array.isArray(sx) ? sx : [sx]),\r\n      ]}\r\n    >\r\n      <DarkModeRoundedIcon />\r\n      <LightModeIcon />\r\n    </IconButton>\r\n  );\r\n}\r\n","import * as React from \"react\";\r\nimport GlobalStyles from \"@mui/joy/GlobalStyles\";\r\nimport Avatar from \"@mui/joy/Avatar\";\r\nimport Box from \"@mui/joy/Box\";\r\nimport Button from \"@mui/joy/Button\";\r\nimport Card from \"@mui/joy/Card\";\r\nimport Chip from \"@mui/joy/Chip\";\r\nimport Divider from \"@mui/joy/Divider\";\r\nimport IconButton from \"@mui/joy/IconButton\";\r\nimport Input from \"@mui/joy/Input\";\r\nimport LinearProgress from \"@mui/joy/LinearProgress\";\r\nimport List from \"@mui/joy/List\";\r\nimport ListItem from \"@mui/joy/ListItem\";\r\nimport ListItemButton, { listItemButtonClasses } from \"@mui/joy/ListItemButton\";\r\nimport ListItemContent from \"@mui/joy/ListItemContent\";\r\nimport Typography from \"@mui/joy/Typography\";\r\nimport Sheet from \"@mui/joy/Sheet\";\r\nimport Stack from \"@mui/joy/Stack\";\r\nimport SearchRoundedIcon from \"@mui/icons-material/SearchRounded\";\r\nimport HomeRoundedIcon from \"@mui/icons-material/HomeRounded\";\r\nimport DashboardRoundedIcon from \"@mui/icons-material/DashboardRounded\";\r\nimport ShoppingCartRoundedIcon from \"@mui/icons-material/ShoppingCartRounded\";\r\nimport AssignmentRoundedIcon from \"@mui/icons-material/AssignmentRounded\";\r\nimport QuestionAnswerRoundedIcon from \"@mui/icons-material/QuestionAnswerRounded\";\r\nimport GroupRoundedIcon from \"@mui/icons-material/GroupRounded\";\r\nimport SupportRoundedIcon from \"@mui/icons-material/SupportRounded\";\r\nimport SettingsRoundedIcon from \"@mui/icons-material/SettingsRounded\";\r\nimport CloseRoundedIcon from \"@mui/icons-material/CloseRounded\";\r\nimport LogoutRoundedIcon from \"@mui/icons-material/LogoutRounded\";\r\nimport BrightnessAutoRoundedIcon from \"@mui/icons-material/BrightnessAutoRounded\";\r\nimport KeyboardArrowDownIcon from \"@mui/icons-material/KeyboardArrowDown\";\r\n\r\nimport ColorSchemeToggle from \"./ColorSchemeToggle\";\r\nimport { closeSidebar } from \"../utils\";\r\nimport { Link as RouterLink } from \"react-router-dom\";\r\nimport useLogout from \"../hooks/useLogout\";\r\n\r\nfunction Toggler({\r\n  defaultExpanded = false,\r\n  renderToggle,\r\n  children,\r\n}: {\r\n  defaultExpanded?: boolean;\r\n  children: React.ReactNode;\r\n  renderToggle: (params: {\r\n    open: boolean;\r\n    setOpen: React.Dispatch<React.SetStateAction<boolean>>;\r\n  }) => React.ReactNode;\r\n}) {\r\n  const [open, setOpen] = React.useState(defaultExpanded);\r\n  return (\r\n    <React.Fragment>\r\n      {renderToggle({ open, setOpen })}\r\n      <Box\r\n        sx={{\r\n          display: \"grid\",\r\n          gridTemplateRows: open ? \"1fr\" : \"0fr\",\r\n          transition: \"0.2s ease\",\r\n          \"& > *\": {\r\n            overflow: \"hidden\",\r\n          },\r\n        }}\r\n      >\r\n        {children}\r\n      </Box>\r\n    </React.Fragment>\r\n  );\r\n}\r\ninterface MenuItem {\r\n  icon?: React.ReactElement;\r\n  label: string;\r\n  link: string;\r\n  submenu?: MenuItem[];\r\n  nested?: boolean;\r\n}\r\n\r\ninterface SidebarProps {\r\n  menuItems: MenuItem[];\r\n}\r\n\r\nexport default function Sidebar({ menuItems }: SidebarProps) {\r\n  const logout = useLogout();\r\n  return (\r\n    <Sheet\r\n      className=\"Sidebar\"\r\n      sx={{\r\n        position: \"fixed\",\r\n        // position: {\r\n        //   sm: \"fixed\",\r\n        //   md: \"sticky\",\r\n        // },\r\n        transform: {\r\n          xs: \"translateX(calc(100% * (var(--SideNavigation-slideIn, 0) - 1)))\",\r\n          md: \"none\",\r\n        },\r\n        transition: \"transform 0.4s, width 0.4s\",\r\n        zIndex: 10000,\r\n        height: \"100dvh\",\r\n        width: \"var(--Sidebar-width)\",\r\n        top: 0,\r\n        p: 2,\r\n        flexShrink: 0,\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        gap: 2,\r\n        borderRight: \"1px solid\",\r\n        borderColor: \"divider\",\r\n      }}\r\n    >\r\n      <GlobalStyles\r\n        styles={(theme) => ({\r\n          \":root\": {\r\n            \"--Sidebar-width\": \"220px\",\r\n            [theme.breakpoints.up(\"lg\")]: {\r\n              \"--Sidebar-width\": \"240px\",\r\n            },\r\n          },\r\n        })}\r\n      />\r\n      <Box\r\n        className=\"Sidebar-overlay\"\r\n        sx={{\r\n          position: \"fixed\",\r\n          zIndex: 9998,\r\n          top: 0,\r\n          left: 0,\r\n          width: \"100vw\",\r\n          height: \"100vh\",\r\n          opacity: \"var(--SideNavigation-slideIn)\",\r\n          backgroundColor: \"var(--joy-palette-background-backdrop)\",\r\n          transition: \"opacity 0.4s\",\r\n          transform: {\r\n            xs: \"translateX(calc(100% * (var(--SideNavigation-slideIn, 0) - 1) + var(--SideNavigation-slideIn, 0) * var(--Sidebar-width, 0px)))\",\r\n            lg: \"translateX(-100%)\",\r\n          },\r\n        }}\r\n        onClick={() => closeSidebar()}\r\n      />\r\n\r\n<Box sx={{ display: \"flex\", gap: 1, alignItems: \"center\" }}>\r\n        <IconButton variant=\"soft\" color=\"primary\" size=\"sm\">\r\n          <BrightnessAutoRoundedIcon />\r\n        </IconButton>\r\n        <Typography level=\"title-lg\">SurgeryX</Typography>\r\n        {/* Logout button */}\r\n        <IconButton variant=\"soft\" color=\"primary\" size=\"sm\" className=\"logout-button\" onClick={logout}>\r\n          <LogoutRoundedIcon />\r\n        </IconButton>\r\n        <ColorSchemeToggle sx={{ ml: \"auto\" }} />\r\n      </Box>\r\n      {/* ... (rest of your code) */}\r\n      <List size=\"sm\" sx={{ gap: 1 }}>\r\n        {menuItems.map((menuItem, index) => (\r\n          <ListItem key={index} nested={menuItem.nested}>\r\n            {menuItem.nested ? (\r\n              <Toggler\r\n                renderToggle={({ open, setOpen }) => (\r\n                  <ListItemButton onClick={() => setOpen(!open)}>\r\n                    {menuItem.icon}\r\n                    <ListItemContent>\r\n                      <Typography level=\"title-sm\">{menuItem.label}</Typography>\r\n                    </ListItemContent>\r\n                    <KeyboardArrowDownIcon\r\n                      sx={{ transform: open ? \"rotate(180deg)\" : \"none\" }}\r\n                    />\r\n                  </ListItemButton>\r\n                )}\r\n              >\r\n                {/* ... (nested list) */}\r\n                <List sx={{ gap: 0.5 }}>\r\n                  {menuItem.submenu &&\r\n                    menuItem.submenu.map((nestedItem, nestedIndex) => (\r\n                      <ListItem key={nestedIndex}>\r\n                        <ListItemButton\r\n                          role=\"menuitem\"\r\n                          component={RouterLink}\r\n                          to={nestedItem.link}\r\n                        >\r\n                          {nestedItem.icon}\r\n                          <ListItemContent>\r\n                            <Typography level=\"title-sm\">\r\n                              {nestedItem.label}\r\n                            </Typography>\r\n                          </ListItemContent>\r\n                        </ListItemButton>\r\n                      </ListItem>\r\n                    ))}\r\n                </List>\r\n              </Toggler>\r\n            ) : (\r\n              <ListItemButton\r\n                role=\"menuitem\"\r\n                component={RouterLink}\r\n                to={menuItem.link}\r\n              >\r\n                {menuItem.icon}\r\n                <ListItemContent>\r\n                  <Typography level=\"title-sm\">{menuItem.label}</Typography>\r\n                </ListItemContent>\r\n              </ListItemButton>\r\n            )}\r\n          </ListItem>\r\n        ))}\r\n      </List>\r\n    </Sheet>\r\n  );\r\n}\r\n","import React from \"react\"\r\nimport {pb} from \"../services/pocketbase\"\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\n\r\nexport default function useLogout() {\r\n    const navigate = useNavigate();\r\n\r\n    async function logout() {\r\n        pb.authStore.clear();\r\n        navigate(\"/login\");\r\n    }\r\n    return logout\r\n}","import HomeRoundedIcon from \"@mui/icons-material/HomeRounded\";\r\nimport DashboardRoundedIcon from \"@mui/icons-material/DashboardRounded\";\r\nimport PersonAddIcon from \"@mui/icons-material/PersonAdd\";\r\nimport { ReactNode } from \"react\";\r\nimport {\r\n  AssignmentIndRounded,\r\n  CalendarMonthRounded,\r\n} from \"@mui/icons-material\";\r\n\r\nconst menuItems = [\r\n  {\r\n    icon: <AssignmentIndRounded />,\r\n    label: \"Assigned To Me\",\r\n    link: \"/assigned\",\r\n  },\r\n  {\r\n    icon: <HomeRoundedIcon />,\r\n    label: \"All Cases\",\r\n    link: \"/cases\",\r\n  },\r\n  {\r\n    icon: <CalendarMonthRounded />,\r\n    label: \"Calendar\",\r\n    link: \"/calendar\",\r\n  },\r\n  {\r\n    icon: <DashboardRoundedIcon />,\r\n    label: \"Stats\",\r\n    link: \"/stats\",\r\n  },\r\n  {\r\n    label: \"Add a Case\",\r\n    icon: <PersonAddIcon />,\r\n    link: \"/addCase\",\r\n  },\r\n];\r\n\r\nexport default menuItems;\r\n","// import React from \"react\";\r\n// import PocketBase from \"pocketbase\";\r\n// import { pb } from \"../../services/pocketbase\";\r\n\r\n// const Dashboard: React.FC = () => {\r\n\r\n\r\n//   const uploadFile = async () => {\r\n//     const fileInput = document.getElementById(\"fileInput\") as HTMLInputElement;\r\n\r\n//     if (fileInput && fileInput.files && fileInput.files.length > 0) {\r\n//       const formData = new FormData();\r\n//       formData.append(\"file\", fileInput.files[0]);\r\n\r\n//       try {\r\n//         const createdRecord = await pb.collection(\"waqar\").create(formData);\r\n//         console.log(\"createdRecord:\", createdRecord);\r\n//       } catch (error) {\r\n//         console.error(error);\r\n//       }\r\n//     }\r\n//   };\r\n\r\n//   const downloadFile = (recordId: string, fileName: string) => {\r\n//     // const fileUrl = `${apiURL}/api/files/waqar/${recordId}/${fileName}`;\r\n//     // window.open(fileUrl, \"_blank\");\r\n//     alert('Code was wrong for downloading')\r\n//   };\r\n\r\n//   return (\r\n//     <div>\r\n//       <input type=\"file\" id=\"fileInput\" accept=\".pdf,.csv\" />\r\n//       <button onClick={uploadFile}>Upload File</button>\r\n//       <button\r\n//         onClick={() => downloadFile(\"kc8og6u4sgujt3h\", \"minder_hyqVZX1GNP.pdf\")}\r\n//       >\r\n//         Download File\r\n//       </button>\r\n//     </div>\r\n//   );\r\n// };\r\n\r\n// export default Dashboard;\r\n\r\nimport React from 'react';\r\n// import {\r\n//   Box,\r\n//   Typography,\r\n//   CircularProgress,\r\n//   Card,\r\n//   CardContent,\r\n//   Stack\r\n// } from '@mui/joy';\r\nimport Box from '@mui/joy/Box';\r\nimport Typography from '@mui/joy/Typography';\r\n// import CircularProgress from '@mui/joy/CircularProgress';\r\nimport Stack from '@mui/joy/Stack';\r\n\r\n\r\n\r\n// import { PieChart, Pie, Tooltip, Cell } from 'recharts';\r\n\r\n// Dummy data\r\nconst dashboardData = {\r\n  totalNewPatients: 25,\r\n  surgerySchedule: [\r\n    { name: 'Orthopedic', value: 10 },\r\n    { name: 'Podiatry', value: 8 },\r\n    { name: 'Others', value: 7 },\r\n  ],\r\n  totalSurgeriesCompleted: 15,\r\n  surgeonUtilization: {\r\n    freeTime: 30,\r\n    scheduledSurgeries: 60,\r\n    blockedTime: 10,\r\n  },\r\n  doctorUtilization: [\r\n    { name: 'Dr. Smith', utilization: 70 },\r\n    { name: 'Dr. Johnson', utilization: 85 },\r\n    // Add more doctors as needed\r\n  ],\r\n  // Add more dummy data as needed\r\n};\r\n\r\nconst COLORS = ['#0088FE', '#00C49F', '#FFBB28'];\r\n\r\nconst Dashboard = () => {\r\n  return (\r\n    <Box>\r\n      {/* <h1>Dashboard</h1> */}\r\n\r\n      <Typography level=\"h4\" mb={2}>\r\n        Surgery Software Dashboard\r\n      </Typography>\r\n\r\n      <Stack>\r\n        <Box>\r\n          <Typography level=\"h4\">Total New Patients</Typography>\r\n          <Typography level=\"h4\">{dashboardData.totalNewPatients}</Typography>\r\n        </Box>\r\n      </Stack>\r\n    </Box>\r\n\r\n\r\n  );\r\n};\r\n\r\nexport default Dashboard;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport Box from \"@mui/joy/Box\";\r\nimport Button from \"@mui/joy/Button\";\r\nimport Divider from \"@mui/joy/Divider\";\r\nimport FormControl from \"@mui/joy/FormControl\";\r\nimport FormLabel from \"@mui/joy/FormLabel\";\r\nimport Link from \"@mui/joy/Link\";\r\nimport Input from \"@mui/joy/Input\";\r\nimport Modal from \"@mui/joy/Modal\";\r\nimport ModalDialog from \"@mui/joy/ModalDialog\";\r\nimport ModalClose from \"@mui/joy/ModalClose\";\r\nimport Select from \"@mui/joy/Select\";\r\nimport Option from \"@mui/joy/Option\";\r\nimport Table from \"@mui/joy/Table\";\r\nimport Sheet from \"@mui/joy/Sheet\";\r\nimport Checkbox from \"@mui/joy/Checkbox\";\r\nimport IconButton, { iconButtonClasses } from \"@mui/joy/IconButton\";\r\nimport Typography from \"@mui/joy/Typography\";\r\nimport Menu from \"@mui/joy/Menu\";\r\nimport MenuButton from \"@mui/joy/MenuButton\";\r\nimport MenuItem from \"@mui/joy/MenuItem\";\r\nimport Dropdown from \"@mui/joy/Dropdown\";\r\n// icons\r\nimport FilterAltIcon from \"@mui/icons-material/FilterAlt\";\r\nimport SearchIcon from \"@mui/icons-material/Search\";\r\nimport ArrowDropDownIcon from \"@mui/icons-material/ArrowDropDown\";\r\nimport KeyboardArrowRightIcon from \"@mui/icons-material/KeyboardArrowRight\";\r\nimport KeyboardArrowLeftIcon from \"@mui/icons-material/KeyboardArrowLeft\";\r\nimport MoreHorizRoundedIcon from \"@mui/icons-material/MoreHorizRounded\";\r\nimport { downloadCSV } from \"../../lib/utils\";\r\nimport { useNavigate } from 'react-router-dom';\r\nimport VisibilityIcon from '@mui/icons-material/Visibility';\r\ntype Patient = {\r\n  id: string;\r\n  name: string;\r\n  dob: string;\r\n  status: string;\r\n};\r\n\r\ntype OrderTableProps = {\r\n  patients: Patient[];\r\n};\r\n\r\nexport default function CasesTable({ patients }: OrderTableProps) {\r\n  const navigate = useNavigate();\r\n  // const [filteredPatients, setFilteredPatients] = useState<Patient[]>([]);\r\n  const [page, setPage] = useState(1);\r\n  const [patientsData, setPatientsData] = useState<Patient[]>([]);\r\n  const itemsPerPage = 10; // Adjust as needed\r\n\r\n  const navigateToCase = (id: string) => {\r\n    navigate(`/cases/details/${id}`);\r\n  }\r\n  const [pagePatients, setPagePatients] = useState<Patient[]>([]);\r\n\r\n  useEffect\r\n    (() => {\r\n      setPatientsData(patients);\r\n    }, [patients]);\r\n  useEffect(() => {\r\n\r\n\r\n    // Calculate the start and end indices based on the current page\r\n    const startIndex = (page - 1) * itemsPerPage;\r\n    const endIndex = page * itemsPerPage;\r\n\r\n    // Slice the patients array based on the indices\r\n    const slicedPatients = patientsData.slice(startIndex, endIndex);\r\n\r\n    // Update the filteredPatients state with the sliced patients\r\n    setPagePatients(slicedPatients);\r\n\r\n\r\n  }, [patientsData, page]);\r\n\r\n\r\n  const handleChangePage = (newPage: number) => {\r\n    setPage(newPage);\r\n  };\r\n\r\n\r\n  const handleSearch = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const value = e.target.value.toLowerCase();\r\n    if (value.trim() === \"\") {\r\n      // If the search input is empty, show all patients\r\n      setPatientsData(patients);\r\n    } else {\r\n      // If there is a search input, filter patients based on the input\r\n      const filteredPatientsResult = patients.filter((patient) => {\r\n        return (\r\n          patient.name.toLowerCase().includes(value) ||\r\n          patient.dob.toLowerCase().includes(value) ||\r\n          patient.status.toLowerCase().includes(value)\r\n        );\r\n      });\r\n      setPatientsData(filteredPatientsResult);\r\n    }\r\n\r\n    // Reset the page to 1 when searching\r\n    setPage(1);\r\n  }\r\n\r\n\r\n  return (\r\n    <React.Fragment>\r\n\r\n      <Box\r\n        className=\"SearchAndFilters-tabletUp\"\r\n        sx={{\r\n          borderRadius: \"sm\",\r\n          py: 2,\r\n          display: {\r\n            xs: \"none\",\r\n            sm: \"flex\",\r\n          },\r\n          flexWrap: \"wrap\",\r\n          gap: 1.5,\r\n          \"& > *\": {\r\n            minWidth: {\r\n              xs: \"120px\",\r\n              md: \"160px\",\r\n            },\r\n          },\r\n        }}\r\n      >\r\n        <FormControl sx={{ flex: 1 }} size=\"sm\">\r\n          <FormLabel>Search for order</FormLabel>\r\n          <Input\r\n            size=\"sm\"\r\n            placeholder=\"Search\"\r\n            startDecorator={<SearchIcon />}\r\n            onChange={handleSearch}\r\n          />\r\n        </FormControl>\r\n\r\n      </Box>\r\n      <Sheet\r\n        className=\"OrderTableContainer\"\r\n        variant=\"outlined\"\r\n        sx={{\r\n          display: { xs: \"none\", sm: \"initial\" },\r\n          width: \"100%\",\r\n          borderRadius: \"sm\",\r\n          flexShrink: 1,\r\n          overflow: \"auto\",\r\n          minHeight: 0,\r\n        }}\r\n      >\r\n        <Table\r\n          aria-labelledby=\"tableTitle\"\r\n          stickyHeader\r\n          hoverRow\r\n          sx={{\r\n            \"--TableCell-headBackground\":\r\n              \"var(--joy-palette-background-level1)\",\r\n            \"--Table-headerUnderlineThickness\": \"1px\",\r\n            \"--TableRow-hoverBackground\":\r\n              \"var(--joy-palette-background-level1)\",\r\n            \"--TableCell-paddingY\": \"4px\",\r\n            \"--TableCell-paddingX\": \"8px\",\r\n          }}\r\n        >\r\n          <thead>\r\n            <tr>\r\n\r\n              <th style={{ width: 180, padding: \"12px 6px\" }}>\r\n                ID\r\n              </th>\r\n              <th style={{ width: 140, padding: \"12px 6px\" }}>Name</th>\r\n              <th style={{ width: 140, padding: \"12px 6px\" }}>Date of birth</th>\r\n              <th style={{ width: 140, padding: \"12px 6px\" }}>Status</th>\r\n              <th style={{ width: 140, padding: \"12px 6px\" }}>Actions</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {pagePatients && pagePatients.map((row) => (\r\n              <tr key={row.id}>\r\n\r\n                <td>\r\n                  <Typography level=\"body-xs\">{row.id}</Typography>\r\n                </td>\r\n\r\n                <td>\r\n                  <Typography level=\"body-xs\">{row.name}</Typography>\r\n                </td>\r\n                <td>\r\n                  <Typography level=\"body-xs\">{row.dob}</Typography>\r\n                </td>\r\n                <td>\r\n                  <Typography level=\"body-xs\">{row.status}</Typography>\r\n                </td>\r\n                <td>\r\n                  <Box sx={{ display: \"flex\", gap: 2, alignItems: \"center\" }}>\r\n                    <Link\r\n                      level=\"body-xs\"\r\n                      component=\"button\"\r\n                      onClick={() => navigateToCase(row.id)}\r\n                    >\r\n                      <IconButton title='Schedule' variant=\"soft\" color=\"primary\" size=\"sm\" >\r\n                        <VisibilityIcon />\r\n                      </IconButton >\r\n                    </Link>\r\n                    {/* <RowMenu row={row} navigate={navigateToCase}/> */}\r\n                  </Box>\r\n                </td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </Table>\r\n      </Sheet>\r\n      <Box\r\n        className=\"Pagination-laptopUp\"\r\n        sx={{\r\n          pt: 2,\r\n          gap: 1,\r\n          [`& .${iconButtonClasses.root}`]: { borderRadius: \"50%\" },\r\n          display: {\r\n            xs: \"none\",\r\n            md: \"flex\",\r\n          },\r\n        }}\r\n      >\r\n        <Button\r\n          size=\"sm\"\r\n          variant=\"outlined\"\r\n          color=\"neutral\"\r\n          startDecorator={<KeyboardArrowLeftIcon />}\r\n          disabled={page === 1}\r\n          onClick={() => handleChangePage(page - 1)}\r\n        >\r\n          Previous\r\n        </Button>\r\n        <Box sx={{ flex: 1 }} />\r\n        {Array.from({ length: Math.ceil(patientsData.length / itemsPerPage) }).map((_, index) => (\r\n          <IconButton\r\n            key={index + 1}  // Use index + 1 as the key\r\n            size=\"sm\"\r\n            variant={Number(index + 1) ? \"outlined\" : \"plain\"}  // Use index + 1 as the condition\r\n            color=\"neutral\"\r\n            onClick={() => handleChangePage(index + 1)}\r\n          >\r\n            {index + 1}\r\n          </IconButton>\r\n        ))}\r\n        <Box sx={{ flex: 1 }} />\r\n\r\n        <Button\r\n          size=\"sm\"\r\n          variant=\"outlined\"\r\n          color=\"neutral\"\r\n          endDecorator={<KeyboardArrowRightIcon />}\r\n          disabled={page === Math.ceil(patientsData.length / itemsPerPage)}\r\n          onClick={() => handleChangePage(page + 1)}\r\n        >\r\n          Next\r\n        </Button>\r\n      </Box>\r\n    </React.Fragment >\r\n  );\r\n}\r\n","export function downloadCSV(data: any[], filename: string) {\r\n  const csvRows = [];\r\n  const headers = Object.keys(data[0]);\r\n  csvRows.push(headers.join(\",\"));\r\n\r\n  for (const row of data) {\r\n    const values = headers.map((header) => {\r\n      const escaped = (\"\" + row[header]).replace(/\"/g, '\\\\\"');\r\n      return `\"${escaped}\"`;\r\n    });\r\n    csvRows.push(values.join(\",\"));\r\n  }\r\n\r\n  const blob = new Blob([csvRows.join(\"\\n\")], { type: \"text/csv\" });\r\n  const url = window.URL.createObjectURL(blob);\r\n  const a = document.createElement(\"a\");\r\n  a.setAttribute(\"hidden\", \"\");\r\n  a.setAttribute(\"href\", url);\r\n  a.setAttribute(\"download\", `${filename}.csv`);\r\n  document.body.appendChild(a);\r\n  a.click();\r\n  document.body.removeChild(a);\r\n}\r\n\r\n\r\n\r\n\r\nexport function formatDate(dateString: string) {\r\n  const date = new Date(dateString);\r\n  const now = new Date();\r\n\r\n  // Check if the date is today\r\n  if (date.toDateString() === now.toDateString()) {\r\n    const secondsAgo = Math.floor((now.getTime() - date.getTime()) / 1000);\r\n\r\n    if (secondsAgo < 60) {\r\n      return `${secondsAgo} seconds ago`;\r\n    }\r\n\r\n    const minutesAgo = Math.floor(secondsAgo / 60);\r\n    if (minutesAgo < 60) {\r\n      return `${minutesAgo} minutes ago`;\r\n    }\r\n\r\n    const hoursAgo = Math.floor(minutesAgo / 60);\r\n    return `${hoursAgo} hours ago`;\r\n  }\r\n\r\n  // If not today, use the previous formatting\r\n  const options: Intl.DateTimeFormatOptions = {\r\n    year: 'numeric',\r\n    month: 'long',\r\n    day: 'numeric',\r\n    hour: 'numeric',\r\n    minute: 'numeric',\r\n    second: 'numeric',\r\n  };\r\n\r\n  return date.toLocaleDateString(undefined, options);\r\n};\r\n\r\n\r\n\r\n// calculate age\r\nexport function calculateAge(birthday: string) {\r\n  var ageDifMs = Date.now() - new Date(birthday).getTime();\r\n  var ageDate = new Date(ageDifMs); // miliseconds from epoch\r\n  return Math.abs(ageDate.getUTCFullYear() - 1970);\r\n}","import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport OrderTable from \"./CasesTable\";\r\nimport OrderList from \"../../components/OrderList\";\r\nimport { pb } from \"../../services/pocketbase\";\r\n\r\nimport {\r\n  Box,\r\n  Button,\r\n  Modal,\r\n  ModalClose,\r\n  ModalDialog,\r\n  Typography,\r\n} from \"@mui/joy\";\r\nimport DownloadRoundedIcon from \"@mui/icons-material/DownloadRounded\";\r\nimport { downloadCSV } from \"../../lib/utils\";\r\nimport NewPatient from \"./NewPatient\";\r\nimport { Link, Route, Routes } from \"react-router-dom\";\r\nimport { Patient } from \"../../lib/types\";\r\n\r\nexport default function Cases() {\r\n  const [patients, setPatients] = useState<Patient[]>([]);\r\n\r\n  // write a function to convert 2023-11-01 12:00:00.000Z to 2023-11-01\r\n  const convertDate = (date: string) => {\r\n    if (!date) return (\"\");\r\n    const dateArray = date.split(\" \");\r\n    return dateArray[0];\r\n  };\r\n\r\n  const getList = async () => {\r\n    const records = await pb.collection(\"cases\").getFullList({\r\n      sort: \"-created\", requestKey: \"null\",\r\n    });\r\n    // create an array of jsons of records using only id, name, dob, status\r\n    const patients = records.map((record) => {\r\n      return {\r\n        ...record,\r\n        id: record.id,\r\n        name: record.first_name + \" \" + record.last_name,\r\n        dob: convertDate(record.dob),\r\n        status: record.status,\r\n      };\r\n    });\r\n    // console.log(patients);\r\n\r\n    setPatients(patients);\r\n  };\r\n\r\n  useEffect(() => {\r\n    console.log(\"useEffect called\")\r\n    getList();\r\n  }, []);\r\n\r\n  const handleDownloadAll = () => {\r\n    downloadCSV(patients, \"all_patients\");\r\n  };\r\n  return (\r\n    <>\r\n      <Box\r\n        sx={{\r\n          display: \"flex\",\r\n          my: 1,\r\n          gap: 1,\r\n          flexDirection: { xs: \"column\", sm: \"row\" },\r\n          alignItems: { xs: \"start\", sm: \"center\" },\r\n          flexWrap: \"wrap\",\r\n          justifyContent: \"space-between\",\r\n        }}\r\n      >\r\n        <Typography level=\"h2\">All Cases</Typography>\r\n\r\n      </Box>\r\n      <OrderTable patients={patients} />\r\n\r\n\r\n    </>\r\n  );\r\n}\r\n","import * as React from \"react\";\r\nimport { ColorPaletteProp } from \"@mui/joy/styles\";\r\nimport Box from \"@mui/joy/Box\";\r\nimport Avatar from \"@mui/joy/Avatar\";\r\nimport Chip from \"@mui/joy/Chip\";\r\nimport Link from \"@mui/joy/Link\";\r\nimport Divider from \"@mui/joy/Divider\";\r\nimport IconButton from \"@mui/joy/IconButton\";\r\nimport Typography from \"@mui/joy/Typography\";\r\nimport List from \"@mui/joy/List\";\r\nimport ListItem from \"@mui/joy/ListItem\";\r\nimport ListItemContent from \"@mui/joy/ListItemContent\";\r\nimport ListItemDecorator from \"@mui/joy/ListItemDecorator\";\r\nimport ListDivider from \"@mui/joy/ListDivider\";\r\nimport Menu from \"@mui/joy/Menu\";\r\nimport MenuButton from \"@mui/joy/MenuButton\";\r\nimport MenuItem from \"@mui/joy/MenuItem\";\r\nimport Dropdown from \"@mui/joy/Dropdown\";\r\n// icons\r\nimport MoreHorizRoundedIcon from \"@mui/icons-material/MoreHorizRounded\";\r\nimport CheckRoundedIcon from \"@mui/icons-material/CheckRounded\";\r\nimport BlockIcon from \"@mui/icons-material/Block\";\r\nimport AutorenewRoundedIcon from \"@mui/icons-material/AutorenewRounded\";\r\nimport KeyboardArrowRightIcon from \"@mui/icons-material/KeyboardArrowRight\";\r\nimport KeyboardArrowLeftIcon from \"@mui/icons-material/KeyboardArrowLeft\";\r\n\r\nconst listItems = [\r\n  {\r\n    id: \"INV-1234\",\r\n    date: \"Feb 3, 2023\",\r\n    status: \"Refunded\",\r\n    customer: {\r\n      initial: \"O\",\r\n      name: \"Olivia Ryhe\",\r\n      email: \"olivia@email.com\",\r\n    },\r\n  },\r\n  {\r\n    id: \"INV-1233\",\r\n    date: \"Feb 3, 2023\",\r\n    status: \"Paid\",\r\n    customer: {\r\n      initial: \"S\",\r\n      name: \"Steve Hampton\",\r\n      email: \"steve.hamp@email.com\",\r\n    },\r\n  },\r\n  {\r\n    id: \"INV-1232\",\r\n    date: \"Feb 3, 2023\",\r\n    status: \"Refunded\",\r\n    customer: {\r\n      initial: \"C\",\r\n      name: \"Ciaran Murray\",\r\n      email: \"ciaran.murray@email.com\",\r\n    },\r\n  },\r\n  {\r\n    id: \"INV-1231\",\r\n    date: \"Feb 3, 2023\",\r\n    status: \"Refunded\",\r\n    customer: {\r\n      initial: \"M\",\r\n      name: \"Maria Macdonald\",\r\n      email: \"maria.mc@email.com\",\r\n    },\r\n  },\r\n  {\r\n    id: \"INV-1230\",\r\n    date: \"Feb 3, 2023\",\r\n    status: \"Cancelled\",\r\n    customer: {\r\n      initial: \"C\",\r\n      name: \"Charles Fulton\",\r\n      email: \"fulton@email.com\",\r\n    },\r\n  },\r\n  {\r\n    id: \"INV-1229\",\r\n    date: \"Feb 3, 2023\",\r\n    status: \"Cancelled\",\r\n    customer: {\r\n      initial: \"J\",\r\n      name: \"Jay Hooper\",\r\n      email: \"hooper@email.com\",\r\n    },\r\n  },\r\n];\r\n\r\nfunction RowMenu() {\r\n  return (\r\n    <Dropdown>\r\n      <MenuButton\r\n        slots={{ root: IconButton }}\r\n        slotProps={{ root: { variant: \"plain\", color: \"neutral\", size: \"sm\" } }}\r\n      >\r\n        <MoreHorizRoundedIcon />\r\n      </MenuButton>\r\n      <Menu size=\"sm\" sx={{ minWidth: 140 }}>\r\n        <MenuItem>Edit</MenuItem>\r\n        <MenuItem>Rename</MenuItem>\r\n        <MenuItem>Move</MenuItem>\r\n        <Divider />\r\n        <MenuItem color=\"danger\">Delete</MenuItem>\r\n      </Menu>\r\n    </Dropdown>\r\n  );\r\n}\r\n\r\nexport default function OrderList() {\r\n  return (\r\n    <Box sx={{ display: { xs: \"block\", sm: \"none\" } }}>\r\n      {listItems.map((listItem) => (\r\n        <List\r\n          key={listItem.id}\r\n          size=\"sm\"\r\n          sx={{\r\n            \"--ListItem-paddingX\": 0,\r\n          }}\r\n        >\r\n          <ListItem\r\n            sx={{\r\n              display: \"flex\",\r\n              justifyContent: \"space-between\",\r\n              alignItems: \"start\",\r\n            }}\r\n          >\r\n            <ListItemContent\r\n              sx={{ display: \"flex\", gap: 2, alignItems: \"start\" }}\r\n            >\r\n              <ListItemDecorator>\r\n                <Avatar size=\"sm\">{listItem.customer.initial}</Avatar>\r\n              </ListItemDecorator>\r\n              <div>\r\n                <Typography fontWeight={600} gutterBottom>\r\n                  {listItem.customer.name}\r\n                </Typography>\r\n                <Typography level=\"body-xs\" gutterBottom>\r\n                  {listItem.customer.email}\r\n                </Typography>\r\n                <Box\r\n                  sx={{\r\n                    display: \"flex\",\r\n                    alignItems: \"center\",\r\n                    justifyContent: \"space-between\",\r\n                    gap: 0.5,\r\n                    mb: 1,\r\n                  }}\r\n                >\r\n                  <Typography level=\"body-xs\">{listItem.date}</Typography>\r\n                  <Typography level=\"body-xs\">&bull;</Typography>\r\n                  <Typography level=\"body-xs\">{listItem.id}</Typography>\r\n                </Box>\r\n                <Box\r\n                  sx={{ display: \"flex\", alignItems: \"center\", gap: 1, mb: 1 }}\r\n                >\r\n                  <Link level=\"body-sm\" component=\"button\">\r\n                    Download\r\n                  </Link>\r\n                  <RowMenu />\r\n                </Box>\r\n              </div>\r\n            </ListItemContent>\r\n            <Chip\r\n              variant=\"soft\"\r\n              size=\"sm\"\r\n              startDecorator={\r\n                {\r\n                  Paid: <CheckRoundedIcon />,\r\n                  Refunded: <AutorenewRoundedIcon />,\r\n                  Cancelled: <BlockIcon />,\r\n                }[listItem.status]\r\n              }\r\n              color={\r\n                {\r\n                  Paid: \"success\",\r\n                  Refunded: \"neutral\",\r\n                  Cancelled: \"danger\",\r\n                }[listItem.status] as ColorPaletteProp\r\n              }\r\n            >\r\n              {listItem.status}\r\n            </Chip>\r\n          </ListItem>\r\n          <ListDivider />\r\n        </List>\r\n      ))}\r\n      <Box\r\n        className=\"Pagination-mobile\"\r\n        sx={{\r\n          display: { xs: \"flex\", md: \"none\" },\r\n          alignItems: \"center\",\r\n          py: 2,\r\n        }}\r\n      >\r\n        <IconButton\r\n          aria-label=\"previous page\"\r\n          variant=\"outlined\"\r\n          color=\"neutral\"\r\n          size=\"sm\"\r\n        >\r\n          <KeyboardArrowLeftIcon />\r\n        </IconButton>\r\n        <Typography level=\"body-sm\" mx=\"auto\">\r\n          Page 1 of 10\r\n        </Typography>\r\n        <IconButton\r\n          aria-label=\"next page\"\r\n          variant=\"outlined\"\r\n          color=\"neutral\"\r\n          size=\"sm\"\r\n        >\r\n          <KeyboardArrowRightIcon />\r\n        </IconButton>\r\n      </Box>\r\n    </Box>\r\n  );\r\n}\r\n","import { Box, Card, Chip, List, ListItem, Stack, Typography } from '@mui/joy';\r\nimport React, { useMemo } from 'react';\r\nimport { format, formatDuration, intervalToDuration } from 'date-fns'\r\nimport { Vaccines } from '@mui/icons-material';\r\nimport { ProceduresRecord, ScheduleItemsRecord } from '../../pocketbase-types';\r\nimport { Link } from 'react-router-dom';\r\n\r\ntype Props = {\r\n  item: any\r\n}\r\nconst ScheduledItem = ({ item = [] }: Props) => {\r\n\r\n  // x hour y mins using start and end and date-fns\r\n  const durationFormatted = useMemo(() => {\r\n    if (!item.start || !item.end) {\r\n      return ''\r\n    }\r\n    const duration = intervalToDuration({\r\n      start: new Date(item.start),\r\n      end: new Date(item.end),\r\n    })\r\n\r\n    return formatDuration(duration, { format: ['hours', 'minutes'] })\r\n\r\n\r\n  }, [item])\r\n\r\n  const caseDetails = item?.expand?.case;\r\n\r\n\r\n  return (<Link to={`/cases/${caseDetails?.id}`} style={{\r\n    textDecoration: 'none',\r\n    color: 'inherit'\r\n  }}>\r\n    <Card>\r\n\r\n\r\n      <Stack direction='row' gap={1} justifyContent=\"space-between\" >\r\n        <Box>\r\n          <Typography level='h4'>\r\n            {caseDetails?.first_name} {caseDetails?.last_name}\r\n          </Typography>\r\n\r\n          <Box sx={{ display: 'flex', gap: 1 }} >\r\n            <Typography level='body-sm'>\r\n              {caseDetails.email}\r\n            </Typography>\r\n            <Typography level='body-sm'>\r\n              {caseDetails.phone}\r\n            </Typography>\r\n          </Box>\r\n\r\n\r\n        </Box>\r\n        <Box sx={{ textAlign: 'right' }}>\r\n          <Typography level=\"body-sm\">\r\n            {format(new Date(item.start), 'h:mm a')} - {format(new Date(item.end), 'h:mm a')}\r\n          </Typography>\r\n\r\n          {/* duration */}\r\n          <Typography level=\"body-sm\">\r\n            {durationFormatted}\r\n          </Typography>\r\n\r\n        </Box>\r\n      </Stack>\r\n\r\n\r\n      {/* Procedure details with icons */}\r\n\r\n      <Box>\r\n        <Typography level=\"body-md\">\r\n          {item.procedures.length} procedures\r\n        </Typography>\r\n\r\n        <>\r\n          {item.procedures.map((procedure: ProceduresRecord) => (\r\n            <Typography level='body-sm'>{procedure.name} {procedure.laterality} {procedure.site} {procedure.cpt_code} </Typography>\r\n          ))}\r\n        </>\r\n      </Box>\r\n\r\n\r\n\r\n      <Stack direction='row' gap={1} justifyContent=\"space-between\" >\r\n        <Box>\r\n          <Typography level='body-sm' sx={{\r\n            display: \"flex\",\r\n            alignItems: \"center\",\r\n            gap: 1,\r\n          }}>\r\n            <Vaccines /> Anesthesia: {item.anesthesia_type} {item.anesthesia_position}\r\n          </Typography>\r\n\r\n        </Box>\r\n        <Box>\r\n          <Chip color=\"primary\">\r\n            {item.specialty}\r\n          </Chip>\r\n        </Box>\r\n      </Stack>\r\n\r\n\r\n\r\n    </Card></Link>\r\n  );\r\n};\r\n\r\nexport default ScheduledItem;\r\n","import React, { useState, useEffect, useMemo } from \"react\";\r\nimport axios from \"axios\";\r\nimport OrderTable from \"../cases/CasesTable\";\r\nimport OrderList from \"../../components/OrderList\";\r\nimport { Box, Button, Stack, Typography } from \"@mui/joy\";\r\nimport DownloadRoundedIcon from \"@mui/icons-material/DownloadRounded\";\r\nimport { downloadCSV } from \"../../lib/utils\";\r\nimport AssignedAppointmentsTable from \"./AssignedAppointmentsTable\";\r\nimport { Close, DisabledByDefault } from \"@mui/icons-material\";\r\nimport { ListResult, RecordModel } from \"pocketbase\";\r\nimport { endOfWeek, startOfWeek } from \"date-fns\";\r\nimport { pb } from \"../../services/pocketbase\";\r\nimport { ScheduleItemsResponse } from \"../../pocketbase-types\";\r\nimport ScheduledItem from \"./AssignedAppointmentsTable\";\r\n\r\nexport default function AssignedAppointments() {\r\n\r\n\r\n  const [result, setResult] = React.useState<ListResult<ScheduleItemsResponse>>()\r\n  const [range, setRange] = React.useState({\r\n    start: startOfWeek(new Date()).toISOString(),\r\n    end: endOfWeek(new Date()).toISOString(),\r\n  })\r\n\r\n\r\n  useEffect(() => {\r\n\r\n    // find schedule items for this user\r\n    pb.collection('schedule_items').getList(1, 50, {\r\n      filter: `user.id = \"${pb.authStore.model?.id}\" && type = \"surgery\"`,\r\n      expand: `case,procedures`\r\n    })\r\n      .then((items) => {\r\n        setResult(items)\r\n      })\r\n      .catch((error) => {\r\n        console.error(error)\r\n      })\r\n\r\n  }, [])\r\n\r\n\r\n  const scheduledItems = useMemo(() => {\r\n    if (!result) {\r\n      return []\r\n    }\r\n    return Array.from(result.items)\r\n\r\n  }, [result])\r\n\r\n  return (\r\n    <>\r\n      <Stack\r\n        sx={{\r\n\r\n\r\n          gap: 2,\r\n          maxWidth: 600,\r\n          // mx: 'auto',\r\n          alignItems: { xs: \"stretch\", sm: \"stretch\" },\r\n        }}\r\n      >\r\n        <Stack direction='row' gap={1} justifyContent=\"space-between\" >\r\n          <Typography level=\"h2\">Assigned To You</Typography>\r\n\r\n        </Stack>\r\n\r\n        {\r\n          scheduledItems.map((item) => (\r\n            <ScheduledItem item={item} />\r\n          ))\r\n        }\r\n        <OrderList />\r\n      </Stack >\r\n    </>\r\n  );\r\n}\r\n","import * as React from \"react\";\r\nimport Autocomplete from \"@mui/joy/Autocomplete\";\r\nimport AutocompleteOption from \"@mui/joy/AutocompleteOption\";\r\nimport AspectRatio from \"@mui/joy/AspectRatio\";\r\nimport FormControl, { FormControlProps } from \"@mui/joy/FormControl\";\r\nimport FormLabel from \"@mui/joy/FormLabel\";\r\nimport ListItemDecorator from \"@mui/joy/ListItemDecorator\";\r\nimport Typography from \"@mui/joy/Typography\";\r\n\r\nexport default function CountrySelector({ sx, ...props }: FormControlProps) {\r\n  return (\r\n    <FormControl\r\n      {...props}\r\n      sx={[{ display: { sm: \"contents\" } }, ...(Array.isArray(sx) ? sx : [sx])]}\r\n    >\r\n      <FormLabel>Country</FormLabel>\r\n      <Autocomplete\r\n        size=\"sm\"\r\n        autoHighlight\r\n        isOptionEqualToValue={(option, value) => option.code === value.code}\r\n        defaultValue={{ code: \"TH\", label: \"Thailand\", phone: \"66\" }}\r\n        options={countries}\r\n        renderOption={(optionProps, option) => (\r\n          <AutocompleteOption {...optionProps}>\r\n            <ListItemDecorator>\r\n              <AspectRatio ratio=\"1\" sx={{ minWidth: 20, borderRadius: \"50%\" }}>\r\n                <img\r\n                  loading=\"lazy\"\r\n                  width=\"20\"\r\n                  srcSet={`https://flagcdn.com/w40/${option.code.toLowerCase()}.png 2x`}\r\n                  src={`https://flagcdn.com/w20/${option.code.toLowerCase()}.png`}\r\n                  alt=\"\"\r\n                />\r\n              </AspectRatio>\r\n            </ListItemDecorator>\r\n            {option.label}\r\n            <Typography component=\"span\" textColor=\"text.tertiary\" ml={0.5}>\r\n              (+{option.phone})\r\n            </Typography>\r\n          </AutocompleteOption>\r\n        )}\r\n        slotProps={{\r\n          input: {\r\n            autoComplete: \"new-password\", // disable autocomplete and autofill\r\n          },\r\n        }}\r\n      />\r\n    </FormControl>\r\n  );\r\n}\r\n\r\ninterface CountryType {\r\n  code: string;\r\n  label: string;\r\n  phone: string;\r\n  suggested?: boolean;\r\n}\r\n\r\n// From https://bitbucket.org/atlassian/atlaskit-mk-2/raw/4ad0e56649c3e6c973e226b7efaeb28cb240ccb0/packages/core/select/src/data/countries.js\r\nconst countries: readonly CountryType[] = [\r\n  { code: \"AD\", label: \"Andorra\", phone: \"376\" },\r\n  {\r\n    code: \"AE\",\r\n    label: \"United Arab Emirates\",\r\n    phone: \"971\",\r\n  },\r\n  { code: \"AF\", label: \"Afghanistan\", phone: \"93\" },\r\n  {\r\n    code: \"AG\",\r\n    label: \"Antigua and Barbuda\",\r\n    phone: \"1-268\",\r\n  },\r\n  { code: \"AI\", label: \"Anguilla\", phone: \"1-264\" },\r\n  { code: \"AL\", label: \"Albania\", phone: \"355\" },\r\n  { code: \"AM\", label: \"Armenia\", phone: \"374\" },\r\n  { code: \"AO\", label: \"Angola\", phone: \"244\" },\r\n  { code: \"AQ\", label: \"Antarctica\", phone: \"672\" },\r\n  { code: \"AR\", label: \"Argentina\", phone: \"54\" },\r\n  { code: \"AS\", label: \"American Samoa\", phone: \"1-684\" },\r\n  { code: \"AT\", label: \"Austria\", phone: \"43\" },\r\n  {\r\n    code: \"AU\",\r\n    label: \"Australia\",\r\n    phone: \"61\",\r\n    suggested: true,\r\n  },\r\n  { code: \"AW\", label: \"Aruba\", phone: \"297\" },\r\n  { code: \"AX\", label: \"Alland Islands\", phone: \"358\" },\r\n  { code: \"AZ\", label: \"Azerbaijan\", phone: \"994\" },\r\n  {\r\n    code: \"BA\",\r\n    label: \"Bosnia and Herzegovina\",\r\n    phone: \"387\",\r\n  },\r\n  { code: \"BB\", label: \"Barbados\", phone: \"1-246\" },\r\n  { code: \"BD\", label: \"Bangladesh\", phone: \"880\" },\r\n  { code: \"BE\", label: \"Belgium\", phone: \"32\" },\r\n  { code: \"BF\", label: \"Burkina Faso\", phone: \"226\" },\r\n  { code: \"BG\", label: \"Bulgaria\", phone: \"359\" },\r\n  { code: \"BH\", label: \"Bahrain\", phone: \"973\" },\r\n  { code: \"BI\", label: \"Burundi\", phone: \"257\" },\r\n  { code: \"BJ\", label: \"Benin\", phone: \"229\" },\r\n  { code: \"BL\", label: \"Saint Barthelemy\", phone: \"590\" },\r\n  { code: \"BM\", label: \"Bermuda\", phone: \"1-441\" },\r\n  { code: \"BN\", label: \"Brunei Darussalam\", phone: \"673\" },\r\n  { code: \"BO\", label: \"Bolivia\", phone: \"591\" },\r\n  { code: \"BR\", label: \"Brazil\", phone: \"55\" },\r\n  { code: \"BS\", label: \"Bahamas\", phone: \"1-242\" },\r\n  { code: \"BT\", label: \"Bhutan\", phone: \"975\" },\r\n  { code: \"BV\", label: \"Bouvet Island\", phone: \"47\" },\r\n  { code: \"BW\", label: \"Botswana\", phone: \"267\" },\r\n  { code: \"BY\", label: \"Belarus\", phone: \"375\" },\r\n  { code: \"BZ\", label: \"Belize\", phone: \"501\" },\r\n  {\r\n    code: \"CA\",\r\n    label: \"Canada\",\r\n    phone: \"1\",\r\n    suggested: true,\r\n  },\r\n  {\r\n    code: \"CC\",\r\n    label: \"Cocos (Keeling) Islands\",\r\n    phone: \"61\",\r\n  },\r\n  {\r\n    code: \"CD\",\r\n    label: \"Congo, Democratic Republic of the\",\r\n    phone: \"243\",\r\n  },\r\n  {\r\n    code: \"CF\",\r\n    label: \"Central African Republic\",\r\n    phone: \"236\",\r\n  },\r\n  {\r\n    code: \"CG\",\r\n    label: \"Congo, Republic of the\",\r\n    phone: \"242\",\r\n  },\r\n  { code: \"CH\", label: \"Switzerland\", phone: \"41\" },\r\n  { code: \"CI\", label: \"Cote d'Ivoire\", phone: \"225\" },\r\n  { code: \"CK\", label: \"Cook Islands\", phone: \"682\" },\r\n  { code: \"CL\", label: \"Chile\", phone: \"56\" },\r\n  { code: \"CM\", label: \"Cameroon\", phone: \"237\" },\r\n  { code: \"CN\", label: \"China\", phone: \"86\" },\r\n  { code: \"CO\", label: \"Colombia\", phone: \"57\" },\r\n  { code: \"CR\", label: \"Costa Rica\", phone: \"506\" },\r\n  { code: \"CU\", label: \"Cuba\", phone: \"53\" },\r\n  { code: \"CV\", label: \"Cape Verde\", phone: \"238\" },\r\n  { code: \"CW\", label: \"Curacao\", phone: \"599\" },\r\n  { code: \"CX\", label: \"Christmas Island\", phone: \"61\" },\r\n  { code: \"CY\", label: \"Cyprus\", phone: \"357\" },\r\n  { code: \"CZ\", label: \"Czech Republic\", phone: \"420\" },\r\n  {\r\n    code: \"DE\",\r\n    label: \"Germany\",\r\n    phone: \"49\",\r\n    suggested: true,\r\n  },\r\n  { code: \"DJ\", label: \"Djibouti\", phone: \"253\" },\r\n  { code: \"DK\", label: \"Denmark\", phone: \"45\" },\r\n  { code: \"DM\", label: \"Dominica\", phone: \"1-767\" },\r\n  {\r\n    code: \"DO\",\r\n    label: \"Dominican Republic\",\r\n    phone: \"1-809\",\r\n  },\r\n  { code: \"DZ\", label: \"Algeria\", phone: \"213\" },\r\n  { code: \"EC\", label: \"Ecuador\", phone: \"593\" },\r\n  { code: \"EE\", label: \"Estonia\", phone: \"372\" },\r\n  { code: \"EG\", label: \"Egypt\", phone: \"20\" },\r\n  { code: \"EH\", label: \"Western Sahara\", phone: \"212\" },\r\n  { code: \"ER\", label: \"Eritrea\", phone: \"291\" },\r\n  { code: \"ES\", label: \"Spain\", phone: \"34\" },\r\n  { code: \"ET\", label: \"Ethiopia\", phone: \"251\" },\r\n  { code: \"FI\", label: \"Finland\", phone: \"358\" },\r\n  { code: \"FJ\", label: \"Fiji\", phone: \"679\" },\r\n  {\r\n    code: \"FK\",\r\n    label: \"Falkland Islands (Malvinas)\",\r\n    phone: \"500\",\r\n  },\r\n  {\r\n    code: \"FM\",\r\n    label: \"Micronesia, Federated States of\",\r\n    phone: \"691\",\r\n  },\r\n  { code: \"FO\", label: \"Faroe Islands\", phone: \"298\" },\r\n  {\r\n    code: \"FR\",\r\n    label: \"France\",\r\n    phone: \"33\",\r\n    suggested: true,\r\n  },\r\n  { code: \"GA\", label: \"Gabon\", phone: \"241\" },\r\n  { code: \"GB\", label: \"United Kingdom\", phone: \"44\" },\r\n  { code: \"GD\", label: \"Grenada\", phone: \"1-473\" },\r\n  { code: \"GE\", label: \"Georgia\", phone: \"995\" },\r\n  { code: \"GF\", label: \"French Guiana\", phone: \"594\" },\r\n  { code: \"GG\", label: \"Guernsey\", phone: \"44\" },\r\n  { code: \"GH\", label: \"Ghana\", phone: \"233\" },\r\n  { code: \"GI\", label: \"Gibraltar\", phone: \"350\" },\r\n  { code: \"GL\", label: \"Greenland\", phone: \"299\" },\r\n  { code: \"GM\", label: \"Gambia\", phone: \"220\" },\r\n  { code: \"GN\", label: \"Guinea\", phone: \"224\" },\r\n  { code: \"GP\", label: \"Guadeloupe\", phone: \"590\" },\r\n  { code: \"GQ\", label: \"Equatorial Guinea\", phone: \"240\" },\r\n  { code: \"GR\", label: \"Greece\", phone: \"30\" },\r\n  {\r\n    code: \"GS\",\r\n    label: \"South Georgia and the South Sandwich Islands\",\r\n    phone: \"500\",\r\n  },\r\n  { code: \"GT\", label: \"Guatemala\", phone: \"502\" },\r\n  { code: \"GU\", label: \"Guam\", phone: \"1-671\" },\r\n  { code: \"GW\", label: \"Guinea-Bissau\", phone: \"245\" },\r\n  { code: \"GY\", label: \"Guyana\", phone: \"592\" },\r\n  { code: \"HK\", label: \"Hong Kong\", phone: \"852\" },\r\n  {\r\n    code: \"HM\",\r\n    label: \"Heard Island and McDonald Islands\",\r\n    phone: \"672\",\r\n  },\r\n  { code: \"HN\", label: \"Honduras\", phone: \"504\" },\r\n  { code: \"HR\", label: \"Croatia\", phone: \"385\" },\r\n  { code: \"HT\", label: \"Haiti\", phone: \"509\" },\r\n  { code: \"HU\", label: \"Hungary\", phone: \"36\" },\r\n  { code: \"ID\", label: \"Indonesia\", phone: \"62\" },\r\n  { code: \"IE\", label: \"Ireland\", phone: \"353\" },\r\n  { code: \"IL\", label: \"Israel\", phone: \"972\" },\r\n  { code: \"IM\", label: \"Isle of Man\", phone: \"44\" },\r\n  { code: \"IN\", label: \"India\", phone: \"91\" },\r\n  {\r\n    code: \"IO\",\r\n    label: \"British Indian Ocean Territory\",\r\n    phone: \"246\",\r\n  },\r\n  { code: \"IQ\", label: \"Iraq\", phone: \"964\" },\r\n  {\r\n    code: \"IR\",\r\n    label: \"Iran, Islamic Republic of\",\r\n    phone: \"98\",\r\n  },\r\n  { code: \"IS\", label: \"Iceland\", phone: \"354\" },\r\n  { code: \"IT\", label: \"Italy\", phone: \"39\" },\r\n  { code: \"JE\", label: \"Jersey\", phone: \"44\" },\r\n  { code: \"JM\", label: \"Jamaica\", phone: \"1-876\" },\r\n  { code: \"JO\", label: \"Jordan\", phone: \"962\" },\r\n  {\r\n    code: \"JP\",\r\n    label: \"Japan\",\r\n    phone: \"81\",\r\n    suggested: true,\r\n  },\r\n  { code: \"KE\", label: \"Kenya\", phone: \"254\" },\r\n  { code: \"KG\", label: \"Kyrgyzstan\", phone: \"996\" },\r\n  { code: \"KH\", label: \"Cambodia\", phone: \"855\" },\r\n  { code: \"KI\", label: \"Kiribati\", phone: \"686\" },\r\n  { code: \"KM\", label: \"Comoros\", phone: \"269\" },\r\n  {\r\n    code: \"KN\",\r\n    label: \"Saint Kitts and Nevis\",\r\n    phone: \"1-869\",\r\n  },\r\n  {\r\n    code: \"KP\",\r\n    label: \"Korea, Democratic People's Republic of\",\r\n    phone: \"850\",\r\n  },\r\n  { code: \"KR\", label: \"Korea, Republic of\", phone: \"82\" },\r\n  { code: \"KW\", label: \"Kuwait\", phone: \"965\" },\r\n  { code: \"KY\", label: \"Cayman Islands\", phone: \"1-345\" },\r\n  { code: \"KZ\", label: \"Kazakhstan\", phone: \"7\" },\r\n  {\r\n    code: \"LA\",\r\n    label: \"Lao People's Democratic Republic\",\r\n    phone: \"856\",\r\n  },\r\n  { code: \"LB\", label: \"Lebanon\", phone: \"961\" },\r\n  { code: \"LC\", label: \"Saint Lucia\", phone: \"1-758\" },\r\n  { code: \"LI\", label: \"Liechtenstein\", phone: \"423\" },\r\n  { code: \"LK\", label: \"Sri Lanka\", phone: \"94\" },\r\n  { code: \"LR\", label: \"Liberia\", phone: \"231\" },\r\n  { code: \"LS\", label: \"Lesotho\", phone: \"266\" },\r\n  { code: \"LT\", label: \"Lithuania\", phone: \"370\" },\r\n  { code: \"LU\", label: \"Luxembourg\", phone: \"352\" },\r\n  { code: \"LV\", label: \"Latvia\", phone: \"371\" },\r\n  { code: \"LY\", label: \"Libya\", phone: \"218\" },\r\n  { code: \"MA\", label: \"Morocco\", phone: \"212\" },\r\n  { code: \"MC\", label: \"Monaco\", phone: \"377\" },\r\n  {\r\n    code: \"MD\",\r\n    label: \"Moldova, Republic of\",\r\n    phone: \"373\",\r\n  },\r\n  { code: \"ME\", label: \"Montenegro\", phone: \"382\" },\r\n  {\r\n    code: \"MF\",\r\n    label: \"Saint Martin (French part)\",\r\n    phone: \"590\",\r\n  },\r\n  { code: \"MG\", label: \"Madagascar\", phone: \"261\" },\r\n  { code: \"MH\", label: \"Marshall Islands\", phone: \"692\" },\r\n  {\r\n    code: \"MK\",\r\n    label: \"Macedonia, the Former Yugoslav Republic of\",\r\n    phone: \"389\",\r\n  },\r\n  { code: \"ML\", label: \"Mali\", phone: \"223\" },\r\n  { code: \"MM\", label: \"Myanmar\", phone: \"95\" },\r\n  { code: \"MN\", label: \"Mongolia\", phone: \"976\" },\r\n  { code: \"MO\", label: \"Macao\", phone: \"853\" },\r\n  {\r\n    code: \"MP\",\r\n    label: \"Northern Mariana Islands\",\r\n    phone: \"1-670\",\r\n  },\r\n  { code: \"MQ\", label: \"Martinique\", phone: \"596\" },\r\n  { code: \"MR\", label: \"Mauritania\", phone: \"222\" },\r\n  { code: \"MS\", label: \"Montserrat\", phone: \"1-664\" },\r\n  { code: \"MT\", label: \"Malta\", phone: \"356\" },\r\n  { code: \"MU\", label: \"Mauritius\", phone: \"230\" },\r\n  { code: \"MV\", label: \"Maldives\", phone: \"960\" },\r\n  { code: \"MW\", label: \"Malawi\", phone: \"265\" },\r\n  { code: \"MX\", label: \"Mexico\", phone: \"52\" },\r\n  { code: \"MY\", label: \"Malaysia\", phone: \"60\" },\r\n  { code: \"MZ\", label: \"Mozambique\", phone: \"258\" },\r\n  { code: \"NA\", label: \"Namibia\", phone: \"264\" },\r\n  { code: \"NC\", label: \"New Caledonia\", phone: \"687\" },\r\n  { code: \"NE\", label: \"Niger\", phone: \"227\" },\r\n  { code: \"NF\", label: \"Norfolk Island\", phone: \"672\" },\r\n  { code: \"NG\", label: \"Nigeria\", phone: \"234\" },\r\n  { code: \"NI\", label: \"Nicaragua\", phone: \"505\" },\r\n  { code: \"NL\", label: \"Netherlands\", phone: \"31\" },\r\n  { code: \"NO\", label: \"Norway\", phone: \"47\" },\r\n  { code: \"NP\", label: \"Nepal\", phone: \"977\" },\r\n  { code: \"NR\", label: \"Nauru\", phone: \"674\" },\r\n  { code: \"NU\", label: \"Niue\", phone: \"683\" },\r\n  { code: \"NZ\", label: \"New Zealand\", phone: \"64\" },\r\n  { code: \"OM\", label: \"Oman\", phone: \"968\" },\r\n  { code: \"PA\", label: \"Panama\", phone: \"507\" },\r\n  { code: \"PE\", label: \"Peru\", phone: \"51\" },\r\n  { code: \"PF\", label: \"French Polynesia\", phone: \"689\" },\r\n  { code: \"PG\", label: \"Papua New Guinea\", phone: \"675\" },\r\n  { code: \"PH\", label: \"Philippines\", phone: \"63\" },\r\n  { code: \"PK\", label: \"Pakistan\", phone: \"92\" },\r\n  { code: \"PL\", label: \"Poland\", phone: \"48\" },\r\n  {\r\n    code: \"PM\",\r\n    label: \"Saint Pierre and Miquelon\",\r\n    phone: \"508\",\r\n  },\r\n  { code: \"PN\", label: \"Pitcairn\", phone: \"870\" },\r\n  { code: \"PR\", label: \"Puerto Rico\", phone: \"1\" },\r\n  {\r\n    code: \"PS\",\r\n    label: \"Palestine, State of\",\r\n    phone: \"970\",\r\n  },\r\n  { code: \"PT\", label: \"Portugal\", phone: \"351\" },\r\n  { code: \"PW\", label: \"Palau\", phone: \"680\" },\r\n  { code: \"PY\", label: \"Paraguay\", phone: \"595\" },\r\n  { code: \"QA\", label: \"Qatar\", phone: \"974\" },\r\n  { code: \"RE\", label: \"Reunion\", phone: \"262\" },\r\n  { code: \"RO\", label: \"Romania\", phone: \"40\" },\r\n  { code: \"RS\", label: \"Serbia\", phone: \"381\" },\r\n  { code: \"RU\", label: \"Russian Federation\", phone: \"7\" },\r\n  { code: \"RW\", label: \"Rwanda\", phone: \"250\" },\r\n  { code: \"SA\", label: \"Saudi Arabia\", phone: \"966\" },\r\n  { code: \"SB\", label: \"Solomon Islands\", phone: \"677\" },\r\n  { code: \"SC\", label: \"Seychelles\", phone: \"248\" },\r\n  { code: \"SD\", label: \"Sudan\", phone: \"249\" },\r\n  { code: \"SE\", label: \"Sweden\", phone: \"46\" },\r\n  { code: \"SG\", label: \"Singapore\", phone: \"65\" },\r\n  { code: \"SH\", label: \"Saint Helena\", phone: \"290\" },\r\n  { code: \"SI\", label: \"Slovenia\", phone: \"386\" },\r\n  {\r\n    code: \"SJ\",\r\n    label: \"Svalbard and Jan Mayen\",\r\n    phone: \"47\",\r\n  },\r\n  { code: \"SK\", label: \"Slovakia\", phone: \"421\" },\r\n  { code: \"SL\", label: \"Sierra Leone\", phone: \"232\" },\r\n  { code: \"SM\", label: \"San Marino\", phone: \"378\" },\r\n  { code: \"SN\", label: \"Senegal\", phone: \"221\" },\r\n  { code: \"SO\", label: \"Somalia\", phone: \"252\" },\r\n  { code: \"SR\", label: \"Suriname\", phone: \"597\" },\r\n  { code: \"SS\", label: \"South Sudan\", phone: \"211\" },\r\n  {\r\n    code: \"ST\",\r\n    label: \"Sao Tome and Principe\",\r\n    phone: \"239\",\r\n  },\r\n  { code: \"SV\", label: \"El Salvador\", phone: \"503\" },\r\n  {\r\n    code: \"SX\",\r\n    label: \"Sint Maarten (Dutch part)\",\r\n    phone: \"1-721\",\r\n  },\r\n  {\r\n    code: \"SY\",\r\n    label: \"Syrian Arab Republic\",\r\n    phone: \"963\",\r\n  },\r\n  { code: \"SZ\", label: \"Swaziland\", phone: \"268\" },\r\n  {\r\n    code: \"TC\",\r\n    label: \"Turks and Caicos Islands\",\r\n    phone: \"1-649\",\r\n  },\r\n  { code: \"TD\", label: \"Chad\", phone: \"235\" },\r\n  {\r\n    code: \"TF\",\r\n    label: \"French Southern Territories\",\r\n    phone: \"262\",\r\n  },\r\n  { code: \"TG\", label: \"Togo\", phone: \"228\" },\r\n  { code: \"TH\", label: \"Thailand\", phone: \"66\" },\r\n  { code: \"TJ\", label: \"Tajikistan\", phone: \"992\" },\r\n  { code: \"TK\", label: \"Tokelau\", phone: \"690\" },\r\n  { code: \"TL\", label: \"Timor-Leste\", phone: \"670\" },\r\n  { code: \"TM\", label: \"Turkmenistan\", phone: \"993\" },\r\n  { code: \"TN\", label: \"Tunisia\", phone: \"216\" },\r\n  { code: \"TO\", label: \"Tonga\", phone: \"676\" },\r\n  { code: \"TR\", label: \"Turkey\", phone: \"90\" },\r\n  {\r\n    code: \"TT\",\r\n    label: \"Trinidad and Tobago\",\r\n    phone: \"1-868\",\r\n  },\r\n  { code: \"TV\", label: \"Tuvalu\", phone: \"688\" },\r\n  {\r\n    code: \"TW\",\r\n    label: \"Taiwan\",\r\n    phone: \"886\",\r\n  },\r\n  {\r\n    code: \"TZ\",\r\n    label: \"United Republic of Tanzania\",\r\n    phone: \"255\",\r\n  },\r\n  { code: \"UA\", label: \"Ukraine\", phone: \"380\" },\r\n  { code: \"UG\", label: \"Uganda\", phone: \"256\" },\r\n  {\r\n    code: \"US\",\r\n    label: \"United States\",\r\n    phone: \"1\",\r\n    suggested: true,\r\n  },\r\n  { code: \"UY\", label: \"Uruguay\", phone: \"598\" },\r\n  { code: \"UZ\", label: \"Uzbekistan\", phone: \"998\" },\r\n  {\r\n    code: \"VA\",\r\n    label: \"Holy See (Vatican City State)\",\r\n    phone: \"379\",\r\n  },\r\n  {\r\n    code: \"VC\",\r\n    label: \"Saint Vincent and the Grenadines\",\r\n    phone: \"1-784\",\r\n  },\r\n  { code: \"VE\", label: \"Venezuela\", phone: \"58\" },\r\n  {\r\n    code: \"VG\",\r\n    label: \"British Virgin Islands\",\r\n    phone: \"1-284\",\r\n  },\r\n  {\r\n    code: \"VI\",\r\n    label: \"US Virgin Islands\",\r\n    phone: \"1-340\",\r\n  },\r\n  { code: \"VN\", label: \"Vietnam\", phone: \"84\" },\r\n  { code: \"VU\", label: \"Vanuatu\", phone: \"678\" },\r\n  { code: \"WF\", label: \"Wallis and Futuna\", phone: \"681\" },\r\n  { code: \"WS\", label: \"Samoa\", phone: \"685\" },\r\n  { code: \"XK\", label: \"Kosovo\", phone: \"383\" },\r\n  { code: \"YE\", label: \"Yemen\", phone: \"967\" },\r\n  { code: \"YT\", label: \"Mayotte\", phone: \"262\" },\r\n  { code: \"ZA\", label: \"South Africa\", phone: \"27\" },\r\n  { code: \"ZM\", label: \"Zambia\", phone: \"260\" },\r\n  { code: \"ZW\", label: \"Zimbabwe\", phone: \"263\" },\r\n];\r\n","import * as React from \"react\";\r\nimport AspectRatio from \"@mui/joy/AspectRatio\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport Box from \"@mui/joy/Box\";\r\nimport Button from \"@mui/joy/Button\";\r\nimport Divider from \"@mui/joy/Divider\";\r\nimport FormControl from \"@mui/joy/FormControl\";\r\nimport FormLabel from \"@mui/joy/FormLabel\";\r\nimport FormHelperText from \"@mui/joy/FormHelperText\";\r\nimport Input from \"@mui/joy/Input\";\r\nimport IconButton from \"@mui/joy/IconButton\";\r\nimport Textarea from \"@mui/joy/Textarea\";\r\nimport Stack from \"@mui/joy/Stack\";\r\nimport Select from \"@mui/joy/Select\";\r\n// import Select, { SelectChangeEvent } from \"@mui/material/Select\";\r\nimport Option from \"@mui/joy/Option\";\r\nimport Typography from \"@mui/joy/Typography\";\r\nimport Tabs from \"@mui/joy/Tabs\";\r\nimport TabList from \"@mui/joy/TabList\";\r\nimport Tab, { tabClasses } from \"@mui/joy/Tab\";\r\nimport Breadcrumbs from \"@mui/joy/Breadcrumbs\";\r\nimport Link from \"@mui/joy/Link\";\r\nimport Card from \"@mui/joy/Card\";\r\nimport CardActions from \"@mui/joy/CardActions\";\r\nimport CardOverflow from \"@mui/joy/CardOverflow\";\r\nimport HomeIcon from \"@mui/icons-material/Home\";\r\nimport HomeRoundedIcon from \"@mui/icons-material/HomeRounded\";\r\nimport ChevronRightRoundedIcon from \"@mui/icons-material/ChevronRightRounded\";\r\nimport EmailRoundedIcon from \"@mui/icons-material/EmailRounded\";\r\nimport AccessTimeFilledRoundedIcon from \"@mui/icons-material/AccessTimeFilledRounded\";\r\nimport VideocamRoundedIcon from \"@mui/icons-material/VideocamRounded\";\r\nimport InsertDriveFileRoundedIcon from \"@mui/icons-material/InsertDriveFileRounded\";\r\nimport EditRoundedIcon from \"@mui/icons-material/EditRounded\";\r\n\r\nimport DropZone from \"../../../components/DropZone\";\r\nimport FileUpload from \"../../../components/FileUpload\";\r\nimport CountrySelector from \"../../../components/CountrySelector\";\r\nimport EditorToolbar from \"../../../components/EditorToolbar\";\r\nimport LocalPhoneIcon from \"@mui/icons-material/LocalPhone\";\r\nimport Grid3x3Icon from \"@mui/icons-material/Grid3x3\";\r\nimport { pb } from \"../../../services/pocketbase\";\r\nimport Checkbox from \"@mui/joy/Checkbox\";\r\nimport BusinessIcon from \"@mui/icons-material/Business\";\r\nimport LocalHospitalIcon from \"@mui/icons-material/LocalHospital\";\r\nimport ArticleIcon from '@mui/icons-material/Article';\r\nimport DefaultPic from '../../../assets/default-pic.jpg'\r\nimport { useState } from \"react\";\r\n\r\ninterface CaseData {\r\n  first_name: string;\r\n  last_name: string;\r\n  // Add other properties as needed\r\n}\r\n\r\nexport default function Caseview() {\r\n  const params = useParams();\r\n  const caseId = params.id;\r\n  const [data, setData] = React.useState<any>({});\r\n  const [editMode, setEditMode] = React.useState(false);\r\n  const [Surgery, setSurgery] = useState(false);\r\n\r\n  React.useEffect(() => {\r\n    const fetchCaseData = async (caseId: any) => {\r\n      try {\r\n        const record = await pb.collection(\"cases\").getOne(caseId);\r\n        setData(record);\r\n      } catch (error) {\r\n        console.error(\"Error fetching case data:\", error);\r\n      }\r\n    };\r\n\r\n    fetchCaseData(caseId);\r\n  }, [caseId]);\r\n\r\n  const handleChange = (e: any) => {\r\n    const { name, value } = e.target;\r\n    setData((prevData: any) => ({\r\n      ...prevData,\r\n      [name]: value,\r\n    }));\r\n  };\r\n\r\n  React.useEffect(() => {\r\n    console.log(data);\r\n  }, [data]);\r\n\r\n  const handleEditModeToggle = () => {\r\n    setEditMode((prevEditMode) => !prevEditMode);\r\n  };\r\n\r\n  const updateData = async (caseId: any) => {\r\n    try {\r\n      const record = await pb.collection(\"cases\").update(caseId, data);\r\n\r\n      console.log(\"Case updated successfully!\");\r\n    } catch (error) {\r\n      console.error(\"Error updating case:\", error);\r\n    }\r\n  };\r\n\r\n  const handleSubmit = async (e: any) => {\r\n    e.preventDefault();\r\n    console.log(data);\r\n    updateData(caseId);\r\n  };\r\n\r\n  return (\r\n    <Box\r\n      sx={{\r\n        flex: 1,\r\n        width: \"100%\",\r\n      }}\r\n    >\r\n      <Box\r\n        sx={{\r\n          position: \"sticky\",\r\n          top: {\r\n            sm: -100,\r\n            md: -110,\r\n          },\r\n          bgcolor: \"background.body\",\r\n          zIndex: 9995,\r\n        }}\r\n      >\r\n        <Box\r\n          sx={{\r\n            px: {\r\n              xs: 2,\r\n              md: 6,\r\n            },\r\n          }}\r\n        >\r\n          {/* <Breadcrumbs\r\n            size=\"sm\"\r\n            aria-label=\"breadcrumbs\"\r\n            separator={<ChevronRightRoundedIcon />}\r\n            sx={{ pl: 0 }}\r\n          >\r\n            <Link\r\n              underline=\"none\"\r\n              color=\"neutral\"\r\n              href=\"#some-link\"\r\n              aria-label=\"Home\"\r\n            >\r\n              <HomeRoundedIcon />\r\n            </Link>\r\n            <Typography color=\"primary\" fontWeight={500} fontSize={12}>\r\n              view/edit\r\n            </Typography>\r\n\r\n          </Breadcrumbs> */}\r\n          <Typography\r\n            level=\"h2\"\r\n            sx={{\r\n              mt: 1,\r\n              mb: 2,\r\n            }}\r\n          >\r\n            Case Details\r\n          </Typography>\r\n        </Box>\r\n      </Box>\r\n\r\n      <Stack\r\n        spacing={4}\r\n        sx={{\r\n          display: \"flex\",\r\n          maxWidth: \"800px\",\r\n          mx: \"auto\",\r\n          px: {\r\n            xs: 2,\r\n            md: 6,\r\n          },\r\n          py: {\r\n            xs: 2,\r\n            md: 3,\r\n          },\r\n        }}\r\n      >\r\n        <Card>\r\n          <Box sx={{ mb: 1, display: \"flex\", justifyContent: \"space-between\" }}>\r\n            <Box>\r\n              <Typography level=\"title-md\">Case Information</Typography>\r\n              <Typography level=\"body-sm\">\r\n                Enter details about the case in the fields below.\r\n              </Typography>\r\n            </Box>\r\n            <Button\r\n              size=\"sm\"\r\n              variant=\"outlined\"\r\n              color=\"primary\"\r\n              onClick={handleEditModeToggle}\r\n            >\r\n              {/* {editMode ? \"Switch to View Mode\" : \"Switch to Edit Mode\"} */}\r\n              {editMode ? <ArticleIcon /> : <EditRoundedIcon />}\r\n\r\n            </Button>\r\n          </Box>\r\n          <Divider />\r\n          <Stack\r\n            direction=\"row\"\r\n            spacing={3}\r\n            sx={{ display: { xs: \"none\", md: \"flex\" }, my: 1 }}\r\n          >\r\n            <Stack direction=\"column\" spacing={1}>\r\n              <AspectRatio\r\n                ratio=\"1\"\r\n                maxHeight={200}\r\n                sx={{ flex: 1, minWidth: 120, borderRadius: \"100%\" }}\r\n              >\r\n                <img\r\n                  //if data.avatar is null, use default pic\r\n                  src={DefaultPic}\r\n                  // srcSet=\"https://images.unsplash.com/photo-1535713875002-d1d0cf377fde?auto=format&fit=crop&w=286&dpr=2 2x\"\r\n                  // loading=\"lazy\"\r\n                  alt=\"\"\r\n                />\r\n              </AspectRatio>\r\n              {/* {editMode ?\r\n                <IconButton\r\n                  aria-label=\"upload new picture\"\r\n                  size=\"sm\"\r\n                  variant=\"outlined\"\r\n                  color=\"neutral\"\r\n                  sx={{\r\n                    bgcolor: \"background.body\",\r\n                    position: \"absolute\",\r\n                    zIndex: 2,\r\n                    borderRadius: \"50%\",\r\n                    left: 100,\r\n                    top: 170,\r\n                    boxShadow: \"sm\",\r\n                  }}\r\n                >\r\n                  <EditRoundedIcon />\r\n                </IconButton>\r\n                : <></>} */}\r\n            </Stack>\r\n            <Stack spacing={2} sx={{ flexGrow: 1 }}>\r\n              <Stack spacing={1}>\r\n                <FormLabel>Name</FormLabel>\r\n                <FormControl\r\n                  sx={{\r\n                    display: {\r\n                      sm: \"flex-column\",\r\n                      md: \"flex-row\",\r\n                    },\r\n                    gap: 2,\r\n                  }}\r\n                >\r\n                  <Input\r\n                    size=\"sm\"\r\n                    name=\"first_name\"\r\n                    placeholder=\"First name\"\r\n                    value={data.first_name}\r\n                    disabled={!editMode}\r\n                    onChange={(e) => {\r\n                      handleChange(e);\r\n                    }}\r\n                  />\r\n                  <Input\r\n                    size=\"sm\"\r\n                    name=\"last_name\"\r\n                    disabled={!editMode}\r\n                    placeholder=\"Last name\"\r\n                    value={data.last_name}\r\n                    sx={{ flexGrow: 1 }}\r\n                    onChange={(e) => {\r\n                      handleChange(e);\r\n                    }}\r\n                  />\r\n                </FormControl>\r\n              </Stack>\r\n              <Stack direction=\"row\" spacing={2}>\r\n                <FormControl>\r\n                  <FormLabel>Phone</FormLabel>\r\n                  <Input\r\n                    name=\"phone_number\"\r\n                    disabled={!editMode}\r\n                    onChange={(e) => {\r\n                      handleChange(e);\r\n                    }}\r\n                    value={data.phone_number}\r\n                    startDecorator={<LocalPhoneIcon />}\r\n                    size=\"sm\"\r\n                    placeholder=\"+1234234234\"\r\n                  />\r\n                </FormControl>\r\n                <FormControl sx={{ flexGrow: 1 }}>\r\n                  <FormLabel>Email</FormLabel>\r\n                  <Input\r\n                    size=\"sm\"\r\n                    type=\"email\"\r\n                    disabled={!editMode}\r\n                    value={data.email}\r\n                    startDecorator={<EmailRoundedIcon />}\r\n                    name=\"email\"\r\n                    onChange={(e) => {\r\n                      handleChange(e);\r\n                    }}\r\n                    placeholder=\"johndoe@test.com\"\r\n                    sx={{ flexGrow: 1 }}\r\n                  />\r\n                </FormControl>\r\n              </Stack>\r\n              <Stack direction=\"row\" spacing={2}>\r\n                <FormControl>\r\n                  <FormLabel>SSN</FormLabel>\r\n                  <Input\r\n                    name=\"ssn\"\r\n                    startDecorator={<Grid3x3Icon />}\r\n                    value={data.ssn}\r\n                    disabled={!editMode}\r\n                    size=\"sm\"\r\n                    placeholder=\"1234234234\"\r\n                    onChange={(e) => {\r\n                      handleChange(e);\r\n                    }}\r\n                  />\r\n                </FormControl>\r\n                <FormControl sx={{ flexGrow: 1 }}>\r\n                  <FormLabel>Address</FormLabel>\r\n                  <Input\r\n                    size=\"sm\"\r\n                    type=\"email\"\r\n                    disabled={!editMode}\r\n                    startDecorator={<HomeIcon />}\r\n                    placeholder=\"St. Address, City, State, Zip Code\"\r\n                    sx={{ flexGrow: 1 }}\r\n                  />\r\n                </FormControl>\r\n              </Stack>\r\n              <Stack direction=\"row\" spacing={2}>\r\n                <FormControl>\r\n                  <FormLabel>Sex</FormLabel>\r\n                  <Select\r\n                    name=\"sex\"\r\n                    value={data.sex}\r\n                    disabled={!editMode}\r\n                    onChange={(e) => {\r\n                      handleChange(e);\r\n                    }}\r\n                    placeholder=\"Male/Female\"\r\n                    required\r\n                    size=\"sm\"\r\n                    sx={{ minWidth: 200 }}\r\n                  >\r\n                    <Option value=\"male\">Male</Option>\r\n                    <Option value=\"female\">Female</Option>\r\n                    <Option value=\"other\">Other</Option>\r\n                  </Select>\r\n                </FormControl>\r\n                <FormControl sx={{ flexGrow: 1 }}>\r\n                  <FormLabel>Facility</FormLabel>\r\n                  <Input\r\n                    size=\"sm\"\r\n                    type=\"email\"\r\n                    disabled={!editMode}\r\n                    startDecorator={<BusinessIcon />}\r\n                    placeholder=\"St. Address, City, State, Zip Code\"\r\n                  />\r\n                </FormControl>\r\n              </Stack>\r\n              <Stack direction=\"row\" spacing={5}>\r\n                <FormControl size={\"md\"}>\r\n                  <FormLabel>Date of Birth</FormLabel>\r\n                  <Input\r\n                    size=\"sm\"\r\n                    type=\"date\"\r\n                    // value is coming like this \"2023-11-07 00:00:00.000Z\" how to show it\r\n\r\n\r\n                    disabled={!editMode}\r\n                    value={data.dob instanceof Date ? data.dob.toISOString().split(\"T\")[0] : \"\"}\r\n                    name=\"dob\"\r\n                    onChange={(e) => {\r\n                      handleChange(e);\r\n                    }}\r\n                    slotProps={{\r\n                      input: {\r\n                        max: new Date().toISOString().split(\"T\")[0],\r\n                      },\r\n\r\n                    }}\r\n                  />\r\n                </FormControl>\r\n                {/* <FormControl>\r\n                  <FormLabel>Time</FormLabel>\r\n                  <Input disabled={!editMode} type=\"time\" size=\"sm\" />\r\n                </FormControl> */}\r\n              </Stack>\r\n              {/* <Stack direction=\"row\" spacing={5}>\r\n                <Checkbox\r\n                  label=\"Surgery required\"\r\n                  disabled={!editMode}\r\n                  variant=\"outlined\"\r\n                  size=\"sm\"\r\n                  onChange={(e) => {\r\n                    setSurgery(e.target.checked);\r\n                  }}\r\n                  sx={{ position: \"relative\", top: 30 }}\r\n                />\r\n                <FormControl>\r\n                  <FormLabel>Surgeon Assigned</FormLabel>\r\n                  <Input\r\n                    //   disabled={!Surgery}\r\n                    disabled={!editMode || !Surgery}\r\n                    size=\"sm\"\r\n                    type=\"email\"\r\n                    startDecorator={<LocalHospitalIcon />}\r\n                    placeholder=\"Dr.John Doe\"\r\n                  />\r\n                </FormControl>\r\n              </Stack> */}\r\n\r\n            </Stack>\r\n          </Stack>\r\n          <Stack\r\n            direction=\"column\"\r\n            spacing={2}\r\n            sx={{ display: { xs: \"flex\", md: \"none\" }, my: 1 }}\r\n          >\r\n            <Stack direction=\"row\" spacing={2}>\r\n              <Stack direction=\"column\" spacing={1}>\r\n                <AspectRatio\r\n                  ratio=\"1\"\r\n                  maxHeight={108}\r\n                  sx={{ flex: 1, minWidth: 108, borderRadius: \"100%\" }}\r\n                >\r\n                  <img\r\n                    src=\"https://images.unsplash.com/photo-1535713875002-d1d0cf377fde?auto=format&fit=crop&w=286\"\r\n                    srcSet=\"https://images.unsplash.com/photo-1535713875002-d1d0cf377fde?auto=format&fit=crop&w=286&dpr=2 2x\"\r\n                    loading=\"lazy\"\r\n                    alt=\"\"\r\n                  />\r\n                </AspectRatio>\r\n                <IconButton\r\n                  aria-label=\"upload new picture\"\r\n                  size=\"sm\"\r\n                  variant=\"outlined\"\r\n                  color=\"neutral\"\r\n                  sx={{\r\n                    bgcolor: \"background.body\",\r\n                    position: \"absolute\",\r\n                    zIndex: 2,\r\n                    borderRadius: \"50%\",\r\n                    left: 85,\r\n                    top: 180,\r\n                    boxShadow: \"sm\",\r\n                  }}\r\n                >\r\n                  <EditRoundedIcon />\r\n                </IconButton>\r\n              </Stack>\r\n              <Stack spacing={1} sx={{ flexGrow: 1 }}>\r\n                <FormLabel>Name</FormLabel>\r\n                <FormControl\r\n                  sx={{\r\n                    display: {\r\n                      sm: \"flex-column\",\r\n                      md: \"flex-row\",\r\n                    },\r\n                    gap: 2,\r\n                  }}\r\n                >\r\n                  <Input size=\"sm\" placeholder=\"First name\" />\r\n                  <Input size=\"sm\" placeholder=\"Last name\" />\r\n                </FormControl>\r\n              </Stack>\r\n            </Stack>\r\n            <FormControl>\r\n              <FormLabel>Role</FormLabel>\r\n              <Input size=\"sm\" defaultValue=\"UI Developer\" />\r\n            </FormControl>\r\n            <FormControl sx={{ flexGrow: 1 }}>\r\n              <FormLabel>Email</FormLabel>\r\n              <Input\r\n                size=\"sm\"\r\n                type=\"email\"\r\n                startDecorator={<EmailRoundedIcon />}\r\n                placeholder=\"email\"\r\n                defaultValue=\"siriwatk@test.com\"\r\n                sx={{ flexGrow: 1 }}\r\n              />\r\n            </FormControl>\r\n            <div>\r\n              <CountrySelector />\r\n            </div>\r\n            <div>\r\n              <FormControl sx={{ display: { sm: \"contents\" } }}>\r\n                <FormLabel>Timezone</FormLabel>\r\n                <Select\r\n                  size=\"sm\"\r\n                  startDecorator={<AccessTimeFilledRoundedIcon />}\r\n                  defaultValue=\"1\"\r\n                >\r\n                  <Option value=\"1\">\r\n                    Indochina Time (Bangkok){\" \"}\r\n                    <Typography textColor=\"text.tertiary\" ml={0.5}>\r\n                      — GMT+07:00\r\n                    </Typography>\r\n                  </Option>\r\n                  <Option value=\"2\">\r\n                    Indochina Time (Ho Chi Minh City){\" \"}\r\n                    <Typography textColor=\"text.tertiary\" ml={0.5}>\r\n                      — GMT+07:00\r\n                    </Typography>\r\n                  </Option>\r\n                </Select>\r\n              </FormControl>\r\n            </div>\r\n          </Stack>\r\n          <Box sx={{ mb: 1, mt: 3 }}>\r\n            <Typography level=\"title-md\">Procedure Description</Typography>\r\n            <Typography level=\"body-sm\">\r\n              Write description about the procedure in the field below.\r\n            </Typography>\r\n          </Box>\r\n          <Stack spacing={2} sx={{ my: 1 }}>\r\n            <Textarea\r\n              disabled={!editMode}\r\n              size=\"sm\"\r\n              minRows={4}\r\n              sx={{ mt: 1.5 }}\r\n              placeholder=\"Left 1st metatarsal- cuneiform fusion, modified McBride, Akin osteotomy, left 2nd digit hammer toe correction\"\r\n            />\r\n            <FormHelperText sx={{ mt: 0.75, fontSize: \"xs\" }}>\r\n              275 characters left\r\n            </FormHelperText>\r\n          </Stack>\r\n          <Box sx={{ mb: 1, mt: 3 }}>\r\n            <Typography level=\"title-md\">Insurance Details</Typography>\r\n            <Typography level=\"body-sm\">\r\n              Write description about the procedure in the field below.\r\n            </Typography>\r\n          </Box>\r\n          <Stack spacing={2} sx={{ my: 1 }}>\r\n            <Textarea\r\n              disabled={!editMode}\r\n              size=\"sm\"\r\n              minRows={4}\r\n              sx={{ mt: 1.5 }}\r\n              placeholder=\"Insurance company name, policy number, etc.\"\r\n            />\r\n            <FormHelperText sx={{ mt: 0.75, fontSize: \"xs\" }}>\r\n              275 characters left\r\n            </FormHelperText>\r\n          </Stack>\r\n          <CardOverflow sx={{ borderTop: \"1px solid\", borderColor: \"divider\" }}>\r\n            <CardActions sx={{ alignSelf: \"flex-end\", pt: 2 }}>\r\n              {editMode ? (\r\n                <>\r\n                  <Button size=\"sm\" variant=\"outlined\" color=\"neutral\">\r\n                    Cancel\r\n                  </Button>\r\n                  <Button\r\n                    size=\"sm\"\r\n                    variant=\"solid\"\r\n                    onClick={handleSubmit}\r\n                  >\r\n                    Save\r\n                  </Button>\r\n                </>\r\n              ) : (\r\n                <Box sx={{ display: 'none' }}>\r\n                  {/* Hidden when not in edit mode */}\r\n                  <Button size=\"sm\" variant=\"outlined\" color=\"neutral\">\r\n                    Cancel\r\n                  </Button>\r\n                  <Button\r\n                    size=\"sm\"\r\n                    variant=\"solid\"\r\n                  >\r\n                    Save\r\n                  </Button>\r\n                </Box>\r\n              )}\r\n            </CardActions>\r\n          </CardOverflow>\r\n        </Card>\r\n      </Stack>\r\n    </Box>\r\n  );\r\n}","import * as React from \"react\";\r\nimport AspectRatio from \"@mui/joy/AspectRatio\";\r\nimport Box from \"@mui/joy/Box\";\r\nimport Button from \"@mui/joy/Button\";\r\nimport Divider from \"@mui/joy/Divider\";\r\nimport FormControl from \"@mui/joy/FormControl\";\r\nimport FormLabel from \"@mui/joy/FormLabel\";\r\nimport FormHelperText from \"@mui/joy/FormHelperText\";\r\nimport Input from \"@mui/joy/Input\";\r\nimport IconButton from \"@mui/joy/IconButton\";\r\nimport Textarea from \"@mui/joy/Textarea\";\r\nimport Stack from \"@mui/joy/Stack\";\r\nimport Select from \"@mui/joy/Select\";\r\n// import Select, { SelectChangeEvent } from \"@mui/material/Select\";\r\nimport Option from \"@mui/joy/Option\";\r\nimport Typography from \"@mui/joy/Typography\";\r\nimport Tabs from \"@mui/joy/Tabs\";\r\nimport TabList from \"@mui/joy/TabList\";\r\nimport Tab, { tabClasses } from \"@mui/joy/Tab\";\r\nimport Breadcrumbs from \"@mui/joy/Breadcrumbs\";\r\nimport Link from \"@mui/joy/Link\";\r\nimport Card from \"@mui/joy/Card\";\r\nimport CardActions from \"@mui/joy/CardActions\";\r\nimport CardOverflow from \"@mui/joy/CardOverflow\";\r\nimport HomeIcon from \"@mui/icons-material/Home\";\r\nimport HomeRoundedIcon from \"@mui/icons-material/HomeRounded\";\r\nimport ChevronRightRoundedIcon from \"@mui/icons-material/ChevronRightRounded\";\r\nimport EmailRoundedIcon from \"@mui/icons-material/EmailRounded\";\r\nimport AccessTimeFilledRoundedIcon from \"@mui/icons-material/AccessTimeFilledRounded\";\r\nimport VideocamRoundedIcon from \"@mui/icons-material/VideocamRounded\";\r\nimport InsertDriveFileRoundedIcon from \"@mui/icons-material/InsertDriveFileRounded\";\r\nimport EditRoundedIcon from \"@mui/icons-material/EditRounded\";\r\n\r\nimport DropZone from \"../../components/DropZone\";\r\nimport FileUpload from \"../../components/FileUpload\";\r\nimport CountrySelector from \"../../components/CountrySelector\";\r\nimport EditorToolbar from \"../../components/EditorToolbar\";\r\nimport LocalPhoneIcon from \"@mui/icons-material/LocalPhone\";\r\nimport Grid3x3Icon from \"@mui/icons-material/Grid3x3\";\r\nimport { pb } from \"../../services/pocketbase\";\r\nimport Checkbox from \"@mui/joy/Checkbox\";\r\nimport BusinessIcon from \"@mui/icons-material/Business\";\r\nimport LocalHospitalIcon from \"@mui/icons-material/LocalHospital\";\r\n// fix this issue\r\nimport DefaultPic from '../../assets/default-pic.jpg';\r\n\r\nimport CloseIcon from \"@mui/icons-material/Close\";\r\nimport { useState } from \"react\";\r\nimport { ProceduresRecord } from \"../../pocketbase-types\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\n\r\n\r\nexport default function MyProfile() {\r\n  const navigate = useNavigate();\r\n  const [data, setdata] = useState<{\r\n    procedure_details: any[]; // TODO: Replace with ProceduresRecord[]\r\n    status: string;\r\n  }>({\r\n    procedure_details: [],\r\n    status: \"new\",\r\n  });\r\n  //Write on change function\r\n  const handleChange = (e: any) => {\r\n    console.log(e)\r\n    // if date of birth make it a date string for database\r\n    if (e.target.name === \"dob\") {\r\n      const date = new Date(e.target.value);\r\n\r\n      setdata({ ...data, [e.target.name]: date });\r\n      // console.log(date, d)\r\n    }\r\n    else\r\n\r\n      setdata({ ...data, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  const handleSubmit = async (e: any) => {\r\n    e.preventDefault();\r\n    console.log(data);\r\n    try {\r\n      const record = await pb.collection(\"cases\").create(data);\r\n      // naviaget to cases\r\n      navigate(\"/cases\");\r\n\r\n    }\r\n    catch (err) {\r\n      console.log(err);\r\n\r\n    }\r\n  }\r\n\r\n  const [Surgery, setSurgery] = useState(false);\r\n\r\n  const [procedure, setProcedure] = useState(\"\");\r\n  const [cptCode, setCptCode] = useState(\"\");\r\n\r\n  const handleAddProcedure = () => {\r\n    // Only add if both procedure and cptCode are present\r\n    if (procedure && cptCode) {\r\n      const updatedProcedures = [...data.procedure_details, { procedure, cptCode }];\r\n      setdata({ ...data, procedure_details: updatedProcedures });\r\n      setProcedure(\"\"); // Clear procedure input\r\n      setCptCode(\"\"); // Clear CPT code input\r\n    }\r\n  };\r\n\r\n  // Function to handle removing a procedure from the data\r\n  const handleRemoveProcedure = (index: any) => {\r\n    const updatedProcedures = [...data.procedure_details];\r\n    updatedProcedures.splice(index, 1);\r\n    setdata({ ...data, procedure_details: updatedProcedures });\r\n  };\r\n\r\n  return (\r\n    <Box\r\n      sx={{\r\n        flex: 1,\r\n        width: \"100%\",\r\n      }}\r\n    >\r\n      <Box\r\n        sx={{\r\n          position: \"sticky\",\r\n          top: {\r\n            sm: -100,\r\n            md: -110,\r\n          },\r\n          bgcolor: \"background.body\",\r\n          zIndex: 9995,\r\n        }}\r\n      >\r\n        <Box\r\n          sx={{\r\n            px: {\r\n              xs: 2,\r\n              md: 6,\r\n            },\r\n          }}\r\n        >\r\n          {/* <Breadcrumbs\r\n            size=\"sm\"\r\n            aria-label=\"breadcrumbs\"\r\n            separator={<ChevronRightRoundedIcon />}\r\n            sx={{ pl: 0 }}\r\n          >\r\n            <Link\r\n              underline=\"none\"\r\n              color=\"neutral\"\r\n              href=\"#some-link\"\r\n              aria-label=\"Home\"\r\n            >\r\n              <HomeRoundedIcon />\r\n            </Link>\r\n            <Typography color=\"primary\" fontWeight={500} fontSize={12}>\r\n              Add a case\r\n            </Typography>\r\n          </Breadcrumbs> */}\r\n          <Typography\r\n            level=\"h2\"\r\n            sx={{\r\n              mt: 1,\r\n              mb: 2,\r\n            }}\r\n          >\r\n            Add a new case\r\n          </Typography>\r\n        </Box>\r\n      </Box>\r\n\r\n      <Stack\r\n        spacing={4}\r\n        sx={{\r\n          display: \"flex\",\r\n          maxWidth: \"800px\",\r\n          mx: \"auto\",\r\n          px: {\r\n            xs: 2,\r\n            md: 6,\r\n          },\r\n          py: {\r\n            xs: 2,\r\n            md: 3,\r\n          },\r\n        }}\r\n      >\r\n        <Card>\r\n          <Box sx={{ mb: 1 }}>\r\n            <Typography level=\"title-md\">Case Information</Typography>\r\n            <Typography level=\"body-sm\">\r\n              Enter details about the case in the fields below.\r\n            </Typography>\r\n          </Box>\r\n          <Divider />\r\n          <Stack\r\n            direction=\"row\"\r\n            spacing={3}\r\n            sx={{ display: { xs: \"none\", md: \"flex\" }, my: 1 }}\r\n          >\r\n            <Stack direction=\"column\" spacing={1}>\r\n              <AspectRatio\r\n                ratio=\"1\"\r\n                maxHeight={200}\r\n                sx={{ flex: 1, minWidth: 120, borderRadius: \"100%\" }}\r\n              >\r\n                <img\r\n                  src={DefaultPic}\r\n                  // srcSet=\"https://images.unsplash.com/photo-1535713875002-d1d0cf377fde?auto=format&fit=crop&w=286&dpr=2 2x\"\r\n                  loading=\"lazy\"\r\n                  alt=\"\"\r\n                />\r\n              </AspectRatio>\r\n              {/* <IconButton\r\n                aria-label=\"upload new picture\"\r\n                size=\"sm\"\r\n                variant=\"outlined\"\r\n                color=\"neutral\"\r\n                sx={{\r\n                  bgcolor: \"background.body\",\r\n                  position: \"absolute\",\r\n                  zIndex: 2,\r\n                  borderRadius: \"50%\",\r\n                  left: 100,\r\n                  top: 170,\r\n                  boxShadow: \"sm\",\r\n                }}\r\n              >\r\n                <EditRoundedIcon />\r\n              </IconButton> */}\r\n            </Stack>\r\n            <Stack spacing={2} sx={{ flexGrow: 1 }}>\r\n              <Stack spacing={1}>\r\n                <FormLabel>Name</FormLabel>\r\n                <FormControl\r\n                  sx={{\r\n                    width: \"90%\",\r\n                    display: {\r\n                      sm: \"flex-column\",\r\n                      md: \"flex-row\",\r\n                    },\r\n                    gap: 2,\r\n                  }}\r\n                >\r\n                  <Input\r\n                    size=\"sm\"\r\n                    name=\"first_name\"\r\n                    placeholder=\"First name\"\r\n                    onChange={(e) => {\r\n                      handleChange(e);\r\n                    }}\r\n                  />\r\n                  <Input\r\n                    size=\"sm\"\r\n                    name=\"last_name\"\r\n                    placeholder=\"Last name\"\r\n                    sx={{ flexGrow: 1 }}\r\n                    onChange={(e) => {\r\n                      handleChange(e);\r\n                    }}\r\n                  />\r\n                </FormControl>\r\n              </Stack>\r\n              <Stack sx={{ width: \"90%\" }} direction=\"row\" spacing={2}>\r\n                <FormControl>\r\n                  <FormLabel>Phone</FormLabel>\r\n                  <Input\r\n                    name=\"phone_number\"\r\n                    onChange={(e) => {\r\n                      handleChange(e);\r\n                    }}\r\n                    startDecorator={<LocalPhoneIcon />}\r\n                    size=\"sm\"\r\n                    placeholder=\"+1234234234\"\r\n                  />\r\n                </FormControl>\r\n                <FormControl sx={{ flexGrow: 1 }}>\r\n                  <FormLabel>Email</FormLabel>\r\n                  <Input\r\n                    size=\"sm\"\r\n                    type=\"email\"\r\n                    startDecorator={<EmailRoundedIcon />}\r\n                    name=\"email\"\r\n                    onChange={(e) => {\r\n                      handleChange(e);\r\n                    }}\r\n                    placeholder=\"johndoe@test.com\"\r\n                    sx={{ flexGrow: 1 }}\r\n                  />\r\n                </FormControl>\r\n              </Stack>\r\n              <Stack sx={{ width: \"90%\" }} direction=\"row\" spacing={2}>\r\n                <FormControl>\r\n                  <FormLabel>SSN</FormLabel>\r\n                  <Input\r\n                    name=\"ssn\"\r\n                    startDecorator={<Grid3x3Icon />}\r\n                    size=\"sm\"\r\n                    placeholder=\"1234234234\"\r\n                    onChange={(e) => {\r\n                      handleChange(e);\r\n                    }}\r\n                  />\r\n                </FormControl>\r\n                <FormControl sx={{ flexGrow: 1 }}>\r\n                  <FormLabel>Address</FormLabel>\r\n                  <Input\r\n                    size=\"sm\"\r\n                    type=\"text\"\r\n                    startDecorator={<HomeIcon />}\r\n                    placeholder=\"St. Address, City, State, Zip Code\"\r\n                    sx={{ flexGrow: 1 }}\r\n                  />\r\n                </FormControl>\r\n              </Stack>\r\n              <Stack sx={{ width: \"95%\" }} direction=\"row\" spacing={2}>\r\n                <FormControl>\r\n                  <FormLabel>Sex</FormLabel>\r\n                  <Select\r\n                    name=\"sex\"\r\n                    onChange={(e) => {\r\n                      handleChange(e);\r\n                    }}\r\n                    placeholder=\"Male/Female\"\r\n                    required\r\n                    size=\"sm\"\r\n                    sx={{ minWidth: 200 }}\r\n                  >\r\n                    <Option value=\"male\">Male</Option>\r\n                    <Option value=\"female\">Female</Option>\r\n                    <Option value=\"other\">Other</Option>\r\n                  </Select>\r\n                </FormControl>\r\n                <FormControl sx={{ flexGrow: 1 }}>\r\n                  <FormLabel>Facility</FormLabel>\r\n                  <Input\r\n                    size=\"sm\"\r\n                    type=\"text\"\r\n                    startDecorator={<BusinessIcon />}\r\n                    placeholder=\"St. Address, City, State, Zip Code\"\r\n                  />\r\n                </FormControl>\r\n              </Stack>\r\n              <Stack direction=\"row\" spacing={5}>\r\n                <FormControl size={\"md\"}>\r\n                  <FormLabel>Date of Birth</FormLabel>\r\n                  <Input\r\n                    size=\"sm\"\r\n                    type=\"date\"\r\n                    name=\"dob\"\r\n                    onChange={(e) => {\r\n                      handleChange(e);\r\n                    }}\r\n                    slotProps={{\r\n                      input: {\r\n                        min: \"2018-06-07T00:00\",\r\n                        max: \"2018-06-14T00:00\",\r\n                      },\r\n                    }}\r\n                  />\r\n                </FormControl>\r\n              </Stack>\r\n              {/* <Stack direction=\"row\" spacing={5}>\r\n                <Checkbox\r\n                  label=\"Surgery required\"\r\n                  variant=\"outlined\"\r\n                  size=\"sm\"\r\n                  onChange={(e) => {\r\n                    setSurgery(e.target.checked);\r\n                  }}\r\n                  sx={{ position: \"relative\", top: 30 }}\r\n                />\r\n                <FormControl>\r\n                  <FormLabel>Surgeon Assigned</FormLabel>\r\n                  <Input\r\n                    disabled={!Surgery}\r\n                    size=\"sm\"\r\n                    type=\"text\"\r\n                    startDecorator={<LocalHospitalIcon />}\r\n                    placeholder=\"Dr.John Doe\"\r\n                  />\r\n                </FormControl>\r\n              </Stack>\r\n\r\n              <Stack direction=\"row\" spacing={4}>\r\n                <FormControl>\r\n                  <FormLabel>Procedure</FormLabel>\r\n                  <Input\r\n                    sx={{ width: \"12rem\" }}\r\n                    disabled={!Surgery}\r\n                    size=\"sm\"\r\n                    type=\"text\"\r\n                    value={procedure}\r\n                    onChange={(e) => setProcedure(e.target.value)}\r\n                    startDecorator={<LocalHospitalIcon />}\r\n                    placeholder=\"Skin Plasty\"\r\n                  />\r\n                </FormControl>\r\n                <FormControl>\r\n                  <FormLabel>CPT</FormLabel>\r\n                  <Input\r\n                    sx={{ width: \"10rem\" }}\r\n                    disabled={!Surgery}\r\n                    size=\"sm\"\r\n                    type=\"text\"\r\n                    value={cptCode}\r\n                    onChange={(e) => setCptCode(e.target.value)}\r\n                    startDecorator={<LocalHospitalIcon />}\r\n                    placeholder=\"12345\"\r\n                  />\r\n                </FormControl>\r\n                <Button\r\n                  sx={{\r\n                    height: \"2rem\",\r\n                    width: \"3.5rem\",\r\n                    position: \"relative\",\r\n                    top: \"1.6rem\",\r\n                  }}\r\n                  size=\"sm\"\r\n                  variant=\"solid\"\r\n                  onClick={handleAddProcedure}\r\n                >\r\n                  add\r\n                </Button>\r\n              </Stack>\r\n\r\n              \r\n              {data.procedure_details.map((item: any, index: number) => (\r\n                <Stack\r\n                  key={index}\r\n                  direction=\"row\"\r\n                  alignItems=\"center\"\r\n                  justifyContent=\"space-between\"\r\n                  sx={{\r\n                    border: \"1px solid\",\r\n                    borderColor: \"primary.main\",\r\n                    borderRadius: \"4px\",\r\n                    padding: \"8px\",\r\n                    marginTop: \"8px\",\r\n                  }}\r\n                >\r\n\r\n                  <Typography>{item.procedure} - {item.cptCode}</Typography>\r\n                  <IconButton\r\n                    size=\"sm\"\r\n                    onClick={() => handleRemoveProcedure(index)}\r\n                  >\r\n                    <CloseIcon />\r\n                  </IconButton>\r\n                </Stack>\r\n              ))\r\n              } */}\r\n\r\n            </Stack >\r\n          </Stack >\r\n          <Stack\r\n            direction=\"column\"\r\n            spacing={2}\r\n            sx={{ display: { xs: \"flex\", md: \"none\" }, my: 1 }}\r\n          >\r\n            <Stack direction=\"row\" spacing={2}>\r\n              <Stack direction=\"column\" spacing={1}>\r\n                <AspectRatio\r\n                  ratio=\"1\"\r\n                  maxHeight={108}\r\n                  sx={{ flex: 1, minWidth: 108, borderRadius: \"100%\" }}\r\n                >\r\n                  <img\r\n                    src={DefaultPic}\r\n                    srcSet=\"https://images.unsplash.com/photo-1535713875002-d1d0cf377fde?auto=format&fit=crop&w=286&dpr=2 2x\"\r\n                    loading=\"lazy\"\r\n                    alt=\"\"\r\n                  />\r\n                </AspectRatio>\r\n                <IconButton\r\n                  aria-label=\"upload new picture\"\r\n                  size=\"sm\"\r\n                  variant=\"outlined\"\r\n                  color=\"neutral\"\r\n                  sx={{\r\n                    bgcolor: \"background.body\",\r\n                    position: \"absolute\",\r\n                    zIndex: 2,\r\n                    borderRadius: \"50%\",\r\n                    left: 85,\r\n                    top: 180,\r\n                    boxShadow: \"sm\",\r\n                  }}\r\n                >\r\n                  <EditRoundedIcon />\r\n                </IconButton>\r\n              </Stack>\r\n\r\n              <Stack spacing={2} sx={{ flexGrow: 1 }}>\r\n                <Stack spacing={1}>\r\n                  <FormLabel>Name</FormLabel>\r\n                  <FormControl\r\n                    sx={{\r\n                      width: \"90%\",\r\n                      display: {\r\n                        sm: \"flex-column\",\r\n                        md: \"flex-row\",\r\n                      },\r\n                      gap: 2,\r\n                    }}\r\n                  >\r\n                    <Input\r\n                      size=\"sm\"\r\n                      name=\"first_name\"\r\n                      placeholder=\"First name\"\r\n                      onChange={(e) => {\r\n                        handleChange(e);\r\n                      }}\r\n                    />\r\n                    <Input\r\n                      size=\"sm\"\r\n                      name=\"last_name\"\r\n                      placeholder=\"Last name\"\r\n                      sx={{ flexGrow: 1 }}\r\n                      onChange={(e) => {\r\n                        handleChange(e);\r\n                      }}\r\n                    />\r\n                  </FormControl>\r\n                </Stack>\r\n                <Stack sx={{ width: \"90%\" }} direction=\"row\" spacing={2}>\r\n                  <FormControl>\r\n                    <FormLabel>Phone</FormLabel>\r\n                    <Input\r\n                      name=\"phone_number\"\r\n                      onChange={(e) => {\r\n                        handleChange(e);\r\n                      }}\r\n                      startDecorator={<LocalPhoneIcon />}\r\n                      size=\"sm\"\r\n                      placeholder=\"+1234234234\"\r\n                    />\r\n                  </FormControl>\r\n                  <FormControl sx={{ flexGrow: 1 }}>\r\n                    <FormLabel>Email</FormLabel>\r\n                    <Input\r\n                      size=\"sm\"\r\n                      type=\"email\"\r\n                      startDecorator={<EmailRoundedIcon />}\r\n                      name=\"email\"\r\n                      onChange={(e) => {\r\n                        handleChange(e);\r\n                      }}\r\n                      placeholder=\"johndoe@test.com\"\r\n                      sx={{ flexGrow: 1 }}\r\n                    />\r\n                  </FormControl>\r\n                </Stack>\r\n                <Stack sx={{ width: \"90%\" }} direction=\"row\" spacing={2}>\r\n                  <FormControl>\r\n                    <FormLabel>SSN</FormLabel>\r\n                    <Input\r\n                      name=\"ssn\"\r\n                      startDecorator={<Grid3x3Icon />}\r\n                      size=\"sm\"\r\n                      placeholder=\"1234234234\"\r\n                      onChange={(e) => {\r\n                        handleChange(e);\r\n                      }}\r\n                    />\r\n                  </FormControl>\r\n                  <FormControl sx={{ flexGrow: 1 }}>\r\n                    <FormLabel>Address</FormLabel>\r\n                    <Input\r\n                      size=\"sm\"\r\n                      type=\"text\"\r\n                      startDecorator={<HomeIcon />}\r\n                      placeholder=\"St. Address, City, State, Zip Code\"\r\n                      sx={{ flexGrow: 1 }}\r\n                    />\r\n                  </FormControl>\r\n                </Stack>\r\n                <Stack sx={{ width: \"95%\" }} direction=\"row\" spacing={2}>\r\n                  <FormControl>\r\n                    <FormLabel>Sex</FormLabel>\r\n                    <Select\r\n                      name=\"sex\"\r\n                      onChange={(e) => {\r\n                        handleChange(e);\r\n                      }}\r\n                      placeholder=\"Male/Female\"\r\n                      required\r\n                      size=\"sm\"\r\n                      sx={{ minWidth: 200 }}\r\n                    >\r\n                      <Option value=\"male\">Male</Option>\r\n                      <Option value=\"female\">Female</Option>\r\n                      <Option value=\"other\">Other</Option>\r\n                    </Select>\r\n                  </FormControl>\r\n                  <FormControl sx={{ flexGrow: 1 }}>\r\n                    <FormLabel>Facility</FormLabel>\r\n                    <Input\r\n                      size=\"sm\"\r\n                      type=\"text\"\r\n                      startDecorator={<BusinessIcon />}\r\n                      placeholder=\"St. Address, City, State, Zip Code\"\r\n                    />\r\n                  </FormControl>\r\n                </Stack>\r\n                <Stack direction=\"row\" spacing={5}>\r\n                  <FormControl size={\"md\"}>\r\n                    <FormLabel>Date of Birth</FormLabel>\r\n                    <Input\r\n                      size=\"sm\"\r\n                      type=\"date\"\r\n                      slotProps={{\r\n                        input: {\r\n                          min: \"2018-06-07T00:00\",\r\n                          max: \"2018-06-14T00:00\",\r\n                        },\r\n                      }}\r\n                    />\r\n                  </FormControl>\r\n                </Stack>\r\n                <Stack direction=\"row\" spacing={5}>\r\n                  <Checkbox\r\n                    label=\"Surgery required\"\r\n                    variant=\"outlined\"\r\n                    size=\"sm\"\r\n                    onChange={(e) => {\r\n                      setSurgery(e.target.checked);\r\n                    }}\r\n                    sx={{ position: \"relative\", top: 30 }}\r\n                  />\r\n                  <FormControl>\r\n                    <FormLabel>Surgeon Assigned</FormLabel>\r\n                    <Input\r\n                      disabled={!Surgery}\r\n                      size=\"sm\"\r\n                      type=\"text\"\r\n                      startDecorator={<LocalHospitalIcon />}\r\n                      placeholder=\"Dr.John Doe\"\r\n                    />\r\n                  </FormControl>\r\n                </Stack>\r\n\r\n                <Stack direction=\"row\" spacing={4}>\r\n                  <FormControl>\r\n                    <FormLabel>Procedure</FormLabel>\r\n                    <Input\r\n                      sx={{ width: \"12rem\" }}\r\n                      disabled={!Surgery}\r\n                      size=\"sm\"\r\n                      type=\"text\"\r\n                      value={procedure}\r\n                      onChange={(e) => setProcedure(e.target.value)}\r\n                      startDecorator={<LocalHospitalIcon />}\r\n                      placeholder=\"Skin Plasty\"\r\n                    />\r\n                  </FormControl>\r\n                  <FormControl>\r\n                    <FormLabel>CPT</FormLabel>\r\n                    <Input\r\n                      sx={{ width: \"10rem\" }}\r\n                      disabled={!Surgery}\r\n                      size=\"sm\"\r\n                      type=\"text\"\r\n                      value={cptCode}\r\n                      onChange={(e) => setCptCode(e.target.value)}\r\n                      startDecorator={<LocalHospitalIcon />}\r\n                      placeholder=\"12345\"\r\n                    />\r\n                  </FormControl>\r\n                  <Button\r\n                    sx={{\r\n                      height: \"2rem\",\r\n                      width: \"3.5rem\",\r\n                      position: \"relative\",\r\n                      top: \"1.6rem\",\r\n                    }}\r\n                    size=\"sm\"\r\n                    variant=\"solid\"\r\n                    onClick={handleAddProcedure}\r\n                  >\r\n                    add\r\n                  </Button>\r\n                </Stack>\r\n\r\n                {/* Display added procedures with remove button */}\r\n                {data.procedure_details.map((item: any, index: number) => (\r\n                  <Stack\r\n                    key={index}\r\n                    direction=\"row\"\r\n                    alignItems=\"center\"\r\n                    justifyContent=\"space-between\"\r\n                    sx={{\r\n                      border: \"1px solid\",\r\n                      borderColor: \"primary.main\",\r\n                      borderRadius: \"4px\",\r\n                      padding: \"8px\",\r\n                      marginTop: \"8px\",\r\n                    }}\r\n                  >\r\n                    {/* <Typography>{item.procedure} - {item.cptCode}</Typography> */}\r\n                    <IconButton\r\n                      size=\"sm\"\r\n                      onClick={() => handleRemoveProcedure(index)}\r\n                    >\r\n                      <CloseIcon />\r\n                    </IconButton>\r\n                  </Stack >\r\n                ))\r\n                }\r\n                {/* <Box\r\n              sx={{display:\"flex\",justifyContent:\"end\"}}\r\n              >\r\n              <Button\r\n              sx={{mr:\"4rem\"}}\r\n                size=\"sm\"\r\n                variant=\"solid\"\r\n                \r\n              >\r\n                Save\r\n              </Button>\r\n              </Box> */}\r\n              </Stack >\r\n\r\n\r\n            </Stack >\r\n\r\n          </Stack >\r\n          <Box sx={{ mb: 1, mt: 3 }}>\r\n            <Typography level=\"title-md\">Initial Notes</Typography>\r\n            <Typography level=\"body-sm\">\r\n              Write description about the diagnosis in the field below.\r\n            </Typography>\r\n          </Box>\r\n          <Stack spacing={2} sx={{ my: 1 }}>\r\n            <Textarea\r\n              size=\"sm\"\r\n              minRows={4}\r\n              sx={{ mt: 1.5 }}\r\n\r\n              name=\"initial_note\"\r\n              onChange={(e) => {\r\n                handleChange(e);\r\n              }}\r\n              placeholder=\"Left 1st metatarsal- cuneiform fusion, modified McBride, Akin osteotomy, left 2nd digit hammer toe correction\"\r\n            />\r\n            <FormHelperText sx={{ mt: 0.75, fontSize: \"xs\" }}>\r\n              275 characters left\r\n            </FormHelperText>\r\n          </Stack>\r\n          <CardOverflow sx={{ borderTop: \"1px solid\", borderColor: \"divider\" }}>\r\n            <CardActions sx={{ alignSelf: \"flex-end\", pt: 2 }}>\r\n              {/* <Button size=\"sm\" variant=\"outlined\" color=\"neutral\">\r\n                Cancel\r\n              </Button> */}\r\n              <Button\r\n                size=\"sm\"\r\n                variant=\"solid\"\r\n                onClick={(e) => {\r\n                  handleSubmit(e);\r\n                }}\r\n              >\r\n                Save\r\n              </Button>\r\n            </CardActions>\r\n          </CardOverflow>\r\n        </Card >\r\n      </Stack >\r\n    </Box >\r\n  );\r\n}\r\n","import React from 'react';\r\nimport Stack from '@mui/joy/Stack';\r\nimport Typography from '@mui/joy/Typography';\r\nimport Card from '@mui/joy/Card';\r\nimport CardContent from '@mui/joy/CardContent';\r\nimport { CardHeader } from '@mui/material';\r\nimport { formatDate } from '../../../lib/utils';\r\n\r\n// import CardHeader from '@mui/joy/CardHeader';\r\n\r\ninterface SurgeryDetailsProps {\r\n    surgeryDetails: {\r\n        start: string;\r\n        end: string;\r\n\r\n        type: string;\r\n        duration: number;\r\n        anesthesia_type: string;\r\n        anesthesia_position: string;\r\n        specialty: string;\r\n        procedures: {\r\n            name: string;\r\n            site: string;\r\n            laterality: string;\r\n            cpt_code: string;\r\n        }[];\r\n    };\r\n}\r\n\r\nconst SurgeryDetails: React.FC<SurgeryDetailsProps> = ({ surgeryDetails }) => {\r\n    return (\r\n\r\n        // improve styling\r\n\r\n\r\n\r\n\r\n\r\n\r\n        <Stack spacing={2}>\r\n            <Typography>\r\n                <strong>Start Time:</strong> {formatDate(surgeryDetails.start)}\r\n            </Typography>\r\n            <Typography>\r\n                <strong>End Time:</strong> {formatDate(surgeryDetails.end)}\r\n            </Typography>\r\n            <Typography>\r\n                <strong>Type:</strong> {surgeryDetails.type}\r\n            </Typography>\r\n            <Typography>\r\n                <strong>Duration:</strong> {surgeryDetails.duration} minutes\r\n            </Typography>\r\n            <Typography>\r\n                <strong>Anesthesia Type:</strong> {surgeryDetails.anesthesia_type}\r\n            </Typography>\r\n            <Typography>\r\n                <strong>Anesthesia Position:</strong> {surgeryDetails.anesthesia_position}\r\n            </Typography>\r\n            <Typography>\r\n                <strong>Specialty:</strong> {surgeryDetails.specialty}\r\n            </Typography>\r\n            <Typography>\r\n                <strong>Procedures:</strong>\r\n            </Typography>\r\n            <Stack spacing={1} sx={{ marginLeft: '1.5em' }}>\r\n                {surgeryDetails.procedures.map((procedure, index) => (\r\n                    <Typography key={index}>\r\n                        {procedure.name} ({procedure.site}, {procedure.laterality}) - CPT Code: {procedure.cpt_code}\r\n                    </Typography>\r\n                ))}\r\n            </Stack>\r\n        </Stack>\r\n\r\n    );\r\n};\r\n\r\nexport default SurgeryDetails;\r\n","import React from 'react';\r\nimport AccordionGroup from '@mui/joy/AccordionGroup';\r\nimport Accordion from '@mui/joy/Accordion';\r\nimport AccordionDetails, {\r\n    accordionDetailsClasses,\r\n} from '@mui/joy/AccordionDetails';\r\nimport AccordionSummary, {\r\n    accordionSummaryClasses,\r\n} from '@mui/joy/AccordionSummary';\r\nimport FormatListBulletedIcon from '@mui/icons-material/FormatListBulleted';\r\nimport ListItemContent from '@mui/joy/ListItemContent';\r\n\r\nimport TapAndPlayRoundedIcon from '@mui/icons-material/TapAndPlayRounded';\r\nimport Avatar from '@mui/joy/Avatar';\r\nimport Typography from '@mui/joy/Typography';\r\n// Import your custom component\r\nimport SurgeryDetails from './SurgeryDetails';\r\nimport HistoryToggleOffIcon from '@mui/icons-material/HistoryToggleOff';\r\nimport { formatDate } from '../../../lib/utils';\r\nimport { ca } from 'date-fns/locale';\r\n\r\ninterface CaseActivityItem {\r\n    type: string;\r\n    note?: string;\r\n    attachments?: any;\r\n    user?: any;\r\n    meta?: any;\r\n    created: string; // Assuming 'created' is a string property\r\n}\r\n\r\ninterface ActivityLogProps {\r\n    case_activity_item: CaseActivityItem[];\r\n    // Add other properties as needed\r\n}\r\n// Utility function to format date in a human-readable form\r\n\r\n\r\nconst ActivityLogComponent: React.FC<ActivityLogProps> = ({ case_activity_item }) => {\r\n\r\n\r\n    //  METHOD TO GET FIRST LINE OF NOTE\r\n    const getFirstLine = (note: string) => {\r\n        // first 5 words\r\n        const firstLine = note.split(' ').slice(0, 5).join(' ');\r\n\r\n        return firstLine;\r\n\r\n    }\r\n\r\n    return (\r\n        <>\r\n\r\n            {case_activity_item ? case_activity_item.map((activityItem, index) => (\r\n                <Accordion key={index}>\r\n                    <AccordionSummary>\r\n                        <Avatar color=\"primary\">\r\n                            {activityItem.type === 'note' && <FormatListBulletedIcon />}\r\n                            {activityItem.type === 'attachment' && <TapAndPlayRoundedIcon />}\r\n                            {activityItem.type === 'surgery_scheduled_added' && <HistoryToggleOffIcon />}\r\n                        </Avatar>\r\n                        <ListItemContent>\r\n                            <Typography level=\"title-md\">{activityItem.type === 'surgery_scheduled_added' ? 'Surgery Details' : 'Note'}</Typography>\r\n                            <Typography level=\"body-sm\">\r\n                                {activityItem.type === 'surgery_scheduled_added'\r\n                                    && 'Activate or deactivate your connections'\r\n                                }\r\n\r\n                                {activityItem.type === 'note'\r\n                                    && getFirstLine(activityItem?.meta?.note) + '...'\r\n                                }\r\n                            </Typography>\r\n                        </ListItemContent>\r\n                        <Typography level=\"body-sm\">\r\n                            {`  ${formatDate(activityItem.created)}`} {/* Display formatted date */}\r\n                        </Typography>\r\n                    </AccordionSummary>\r\n                    <AccordionDetails>\r\n\r\n                        {activityItem.type === 'note' && (\r\n                            <Typography level=\"body-sm\">{activityItem?.meta?.note}</Typography>\r\n                        )}\r\n                        {/* {activityItem.type === 'surgery_scheduled_added' && (\r\n                            <SurgeryDetails surgeryDetails={activityItem.meta} />\r\n                        )} */}\r\n                        {/* Include other details based on the type */}\r\n                    </AccordionDetails>\r\n                </Accordion>\r\n            )) : <Typography level=\"body-sm\">No Activity</Typography>}\r\n        </>\r\n\r\n\r\n\r\n    );\r\n};\r\n\r\nexport default ActivityLogComponent;\r\n","import {\r\n    Box,\r\n    Button,\r\n    Divider,\r\n    FormControl,\r\n    FormLabel,\r\n    Select,\r\n    Option,\r\n    Modal,\r\n    ModalClose,\r\n    ModalDialog,\r\n    Stack,\r\n    Typography,\r\n    Textarea,\r\n} from \"@mui/joy\";\r\nimport UploadIcon from \"@mui/icons-material/Upload\";\r\n\r\nimport { pb } from \"../../../services/pocketbase\";\r\nimport * as React from \"react\";\r\nimport { useState } from \"react\";\r\n// ... (existing imports)\r\n\r\n// AddActivityProps type definition\r\ninterface AddActivityProps {\r\n    open: boolean;\r\n    setOpen: React.Dispatch<React.SetStateAction<boolean>>;\r\n    caseId?: string; // Assuming caseId is a string, adjust accordingly\r\n    type: string; // Assuming type is a string, adjust accordingly\r\n}\r\n\r\nconst AddActivity: React.FC<AddActivityProps> = (\r\n    { open, setOpen, caseId, type }) => {\r\n    // const [open, setOpen] = useState(false);\r\n\r\n\r\n    // const handleChange = (\r\n    //     event: React.SyntheticEvent | null,\r\n    //     newValue: string | null,\r\n    // ) => {\r\n    //     setSelectedType(newValue!);\r\n    // };\r\n\r\n    const [data, setdata] = useState({\r\n        note: \"\",\r\n    });\r\n    const handleChange = (e: any) => {\r\n        setdata({ ...data, [e.target.name]: e.target.value });\r\n    };\r\n    const handleOpen = () => setOpen(true);\r\n    const handleClose = () => setOpen(false);\r\n    // const [note, setNote] = useState('');\r\n\r\n    const handleSubmit = async (event: React.FormEvent<HTMLFormElement>) => {\r\n        event.preventDefault();\r\n        //  const formData = new FormData(event.currentTarget);\r\n\r\n        try {\r\n            if (caseId && type === 'note') {\r\n                const acitivity_item = await pb.collection('case_activity_item').create({\r\n                    type: 'note',\r\n                    meta: {\r\n                        note: data.note,\r\n                    },\r\n                    case: caseId,\r\n                });\r\n\r\n            }\r\n            handleClose();\r\n\r\n        } catch (error) {\r\n            handleClose()\r\n            console.error(error);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <>\r\n\r\n            <Box sx={{ width: '100%', overflowY: 'auto' }}>\r\n                <Modal open={open} onClose={handleClose}>\r\n                    <ModalDialog\r\n                        sx={{\r\n                            width: \"50%\",\r\n                        }}\r\n                    >\r\n                        <ModalClose onClick={handleClose} />\r\n                        <Typography level=\"title-md\" sx={{ mt: 2 }}>\r\n                            Case Activity Item\r\n                        </Typography>\r\n                        <Divider />\r\n                        <form onSubmit={handleSubmit} encType=\"multipart/form-data\">\r\n                            <Box sx={{ p: 2 }}>\r\n                                <Stack spacing={2}>\r\n                                    {/* <FormControl>\r\n                                        <FormLabel>Type</FormLabel>\r\n                                      \r\n\r\n                                        <Select\r\n\r\n                                            name=\"type\"\r\n                                            placeholder=\"Choose Type\"\r\n                                            size=\"sm\"\r\n                                            value={selectedType}\r\n                                            onChange={handleChange}\r\n                                        >\r\n\r\n\r\n                                            <Option value=\"surgery_scheduled_added\">\r\n                                                Surgery scheduled added\r\n                                            </Option>\r\n                                            <Option value=\"surgery_scheduled_removed\">\r\n                                                Surgery scheduled removed\r\n                                            </Option>\r\n                                            <Option value=\"surgery_scheduled_updated\">\r\n                                                Surgery scheduled updated\r\n                                            </Option>\r\n                                            <Option value=\"note\">Note</Option>\r\n                                        </Select>\r\n                                    </FormControl> */}\r\n                                    {type && type === 'note' && (\r\n                                        <FormControl>\r\n                                            <FormLabel>Note</FormLabel>\r\n                                            <Textarea\r\n                                                name=\"note\"\r\n                                                placeholder=\"Enter Note\"\r\n                                                minRows='3'\r\n                                                value={data.note}\r\n\r\n                                                onChange={(e) => {\r\n                                                    handleChange(e);\r\n                                                }}\r\n                                            />\r\n                                        </FormControl>\r\n                                    )}\r\n                                    <FormControl>\r\n                                        {/* <FormLabel>Case</FormLabel>\r\n                                        <Select name=\"case\" placeholder=\"Choose Case\" size=\"sm\">\r\n                                            <Option value=\"xbmarqiuhged0wf\">Case 1</Option>\r\n                                            <Option value=\"sb6eyuw267tfjge\">Case 2</Option>\r\n                                            <Option value=\"mw9op44a1xn92dv\">Case 3</Option>\r\n                                        </Select> */}\r\n                                    </FormControl>\r\n                                    {/* <FormControl>\r\n                                        <FormLabel>Attachments</FormLabel>\r\n                                        <Box sx={{ display: \"flex\", alignItems: \"center\", gap: 2 }}>\r\n                                            <Button\r\n                                                size=\"sm\"\r\n                                                variant=\"outlined\"\r\n                                                component=\"label\"\r\n                                                startDecorator={<UploadIcon />}\r\n                                            >\r\n                                                Upload\r\n                                                <input type=\"file\" name=\"attachments\" hidden />\r\n                                            </Button>\r\n                                        </Box>\r\n                                    </FormControl> */}\r\n                                    <Stack direction=\"row\" justifyContent=\"flex-end\" spacing={2}>\r\n                                        <Button color=\"primary\" size=\"sm\" type=\"submit\">\r\n                                            Submit\r\n                                        </Button>\r\n                                    </Stack>\r\n                                </Stack>\r\n                            </Box>\r\n                        </form>\r\n                    </ModalDialog>\r\n                </Modal >\r\n            </Box>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default AddActivity;\r\n","import React, { useEffect, useState } from 'react'\r\nimport AspectRatio from '@mui/joy/AspectRatio';\r\nimport Box from '@mui/joy/Box';\r\nimport Button from '@mui/joy/Button';\r\nimport Divider from '@mui/joy/Divider';\r\nimport FormControl from '@mui/joy/FormControl';\r\nimport FormLabel from '@mui/joy/FormLabel';\r\nimport FormHelperText from '@mui/joy/FormHelperText';\r\nimport Input from '@mui/joy/Input';\r\nimport IconButton from '@mui/joy/IconButton';\r\nimport Textarea from '@mui/joy/Textarea';\r\nimport Stack from '@mui/joy/Stack';\r\nimport Select from '@mui/joy/Select';\r\nimport Option from '@mui/joy/Option';\r\nimport Typography from '@mui/joy/Typography';\r\nimport Tabs from '@mui/joy/Tabs';\r\nimport TabList from '@mui/joy/TabList';\r\nimport Tab, { tabClasses } from '@mui/joy/Tab';\r\nimport Breadcrumbs from '@mui/joy/Breadcrumbs';\r\nimport Link from '@mui/joy/Link';\r\nimport Card from '@mui/joy/Card';\r\nimport CardActions from '@mui/joy/CardActions';\r\nimport CardOverflow from '@mui/joy/CardOverflow';\r\n\r\nimport HomeRoundedIcon from '@mui/icons-material/HomeRounded';\r\nimport ChevronRightRoundedIcon from '@mui/icons-material/ChevronRightRounded';\r\nimport EmailRoundedIcon from '@mui/icons-material/EmailRounded';\r\nimport AccessTimeFilledRoundedIcon from '@mui/icons-material/AccessTimeFilledRounded';\r\nimport VideocamRoundedIcon from '@mui/icons-material/VideocamRounded';\r\nimport InsertDriveFileRoundedIcon from '@mui/icons-material/InsertDriveFileRounded';\r\nimport EditRoundedIcon from '@mui/icons-material/EditRounded';\r\n// import three icons for notes, attachments and schedule\r\n\r\nimport EditNoteIcon from '@mui/icons-material/EditNote';\r\nimport { Chip, TabPanel } from '@mui/joy';\r\nimport SurgeryDetails from './SurgeryDetails';\r\nimport DataSaverOnIcon from '@mui/icons-material/DataSaverOn';\r\n\r\nimport AccordionGroup from '@mui/joy/AccordionGroup';\r\nimport Accordion from '@mui/joy/Accordion';\r\nimport AccordionDetails, {\r\n    accordionDetailsClasses,\r\n} from '@mui/joy/AccordionDetails';\r\nimport AccordionSummary, {\r\n    accordionSummaryClasses,\r\n} from '@mui/joy/AccordionSummary';\r\nimport Switch from '@mui/joy/Switch';\r\n\r\nimport Avatar from '@mui/joy/Avatar';\r\n\r\nimport ListItemContent from '@mui/joy/ListItemContent';\r\n\r\nimport AirplanemodeActiveRoundedIcon from '@mui/icons-material/AirplanemodeActiveRounded';\r\nimport WifiRoundedIcon from '@mui/icons-material/WifiRounded';\r\nimport BluetoothRoundedIcon from '@mui/icons-material/BluetoothRounded';\r\nimport TapAndPlayRoundedIcon from '@mui/icons-material/TapAndPlayRounded';\r\nimport EditNotificationsRoundedIcon from '@mui/icons-material/EditNotificationsRounded';\r\nimport AdUnitsRoundedIcon from '@mui/icons-material/AdUnitsRounded';\r\nimport MessageRoundedIcon from '@mui/icons-material/MessageRounded';\r\nimport AccessibilityNewRoundedIcon from '@mui/icons-material/AccessibilityNewRounded';\r\nimport ZoomInRoundedIcon from '@mui/icons-material/ZoomInRounded';\r\nimport SpatialTrackingRoundedIcon from '@mui/icons-material/SpatialTrackingRounded';\r\nimport SettingsVoiceRoundedIcon from '@mui/icons-material/SettingsVoiceRounded';\r\nimport ActivityLogComponent from './ActivityLog';\r\nimport AddActivity from './AddActivty';\r\nimport { useNavigate, useParams } from 'react-router-dom';\r\nimport { pb } from '../../../services/pocketbase';\r\nimport { calculateAge } from '../../../lib/utils';\r\nimport { ca } from 'date-fns/locale';\r\nimport DefaultPic from '../../../assets/default-pic.jpg';\r\nimport ManageAccountsIcon from '@mui/icons-material/ManageAccounts';\r\nexport default function DetailView() {\r\n    const navigate = useNavigate();\r\n    const { id } = useParams();\r\n    const [caseDetailsNew, setCaseDetailsNew] = useState({} as any);\r\n    const [caseDetails, setCaseDetails] = useState({\r\n        first_name: 'John',\r\n        last_name: 'Doe',\r\n        email: 'dd@kdk.com',\r\n        phone: '123-456-7890',\r\n        status: 'scheduled',\r\n        age: 19,\r\n        gender: \"Male\",\r\n        case_activity_item: [\r\n            {\r\n                type: 'note',\r\n                user: 33,\r\n                attachments: [],\r\n                note: 'This patient is a good candidate for surgery because of his age and health. He is a non-smoker and has no other health issues. He is also very active and has a good support system at home. He is a good candidate for surgery because of his age and health. He is a non-smoker and has no other health issues. He is also very active and has a good support system at home.',\r\n                created: '2023-12-03T13:56:00-04:00'\r\n            },\r\n            {\r\n                type: 'note',\r\n                user: 33,\r\n                attachments: [],\r\n                note: 'This patient is a good  a candidate for surgery because of his age and health. He is a non-smoker and has no other health issues. He is also very active and has a good support system at home. He is a good candidate for surgery because of his age and health. He is a non-smoker and has no other health issues. He is also very active and has a good support system at home.',\r\n                created: '2023-12-03T13:56:00-04:00'\r\n            }, {\r\n                type: 'note',\r\n                user: 33,\r\n                attachments: [],\r\n                note: 'This patient is a good as candidate for surgery because of his age and health. He is a non-smoker and has no other health issues. He is also very active and has a good support system at home. He is a good candidate for surgery because of his age and health. He is a non-smoker and has no other health issues. He is also very active and has a good support system at home.',\r\n                created: '2023-12-03T13:56:00-04:00'\r\n            }, {\r\n                type: 'note',\r\n                user: 33,\r\n                attachments: [],\r\n                note: 'This patient is a good  3 candidate for surgery because of his age and health. He is a non-smoker and has no other health issues. He is also very active and has a good support system at home. He is a good candidate for surgery because of his age and health. He is a non-smoker and has no other health issues. He is also very active and has a good support system at home.',\r\n                created: '2023-12-03T13:56:00-04:00'\r\n            },\r\n            {\r\n                type: 'surgery_scheduled_added',\r\n                user: 33,\r\n                meta: {\r\n                    surgery_scheduled_id: 90,\r\n                }\r\n                ,\r\n                created: '2023-12-03T09:00:00-04:00'\r\n            }\r\n        ],\r\n        surgery_scheduled: [\r\n            {\r\n\r\n                start: \"2021-10-01T09:00:00-04:00\",\r\n                end: \"2021-10-01T09:30:00-04:00\",\r\n                type: 'surgery',\r\n                duration: 30,\r\n                anesthesia_type: 'choice',\r\n                anesthesia_position: 'surpine',\r\n                specialty: 'podiatry',\r\n                procedures: [\r\n                    {\r\n                        name: \"Right Akin\",\r\n                        site: 'foot',\r\n                        laterality: 'right',\r\n                        cpt_code: '28285',\r\n                    },\r\n                    {\r\n                        name: 'Weil osteotomy',\r\n                        site: 'foot',\r\n                        laterality: 'right',\r\n                        cpt_code: '28285',\r\n                    }\r\n                ],\r\n            }\r\n        ]\r\n    });\r\n    const [open, setOpen] = React.useState(false);\r\n\r\n\r\n    // make async await\r\n    useEffect(() => {\r\n        const fetchData = async () => {\r\n            try {\r\n                if (id) {\r\n                    const caseDetailsResponse = await pb.collection('cases').getOne(id, { expand: \"case_activity_item(case)\" });\r\n                    // Process caseDetailsResponse as needed]\r\n                    if (caseDetailsResponse) {\r\n                        // calculate age using util method calculateAge\r\n                        let age = calculateAge(caseDetailsResponse.dob);\r\n                        let activity_items = [];\r\n                        if (caseDetailsResponse.expand) {\r\n                            activity_items = (caseDetailsResponse as any).expand['case_activity_item(case)'] || [];\r\n                            // sort by created date\r\n                            activity_items.sort((a: any, b: any) => {\r\n                                return new Date(b.created).getTime() - new Date(a.created).getTime();\r\n                            });\r\n                        }\r\n                        setCaseDetailsNew({\r\n                            ...caseDetailsResponse,\r\n                            age: age,\r\n                            activity_items\r\n                        });\r\n                    }\r\n                }\r\n            } catch (error) {\r\n                console.error('Error fetching case details:', error);\r\n            }\r\n        };\r\n\r\n        fetchData();\r\n    }, [id, open]);\r\n\r\n\r\n\r\n    const handleOpen = () => setOpen(true);\r\n    const navigateToCases = () => {\r\n        navigate('/cases/' + id, { replace: true });\r\n    }\r\n\r\n    return <Stack>\r\n        <Box\r\n            sx={{\r\n                flex: 1,\r\n                width: '100%',\r\n            }}\r\n        >\r\n            <Box\r\n                sx={{\r\n                    bgcolor: 'background.body',\r\n                }}\r\n            >\r\n                <Box\r\n                    sx={{\r\n                        px: {\r\n                            xs: 2,\r\n                            md: 6,\r\n                        },\r\n                    }}\r\n                >\r\n                    <Card>\r\n                        <Stack>\r\n                            <Stack direction=\"row\" alignItems=\"baseline\" justifyContent=\"space-between\" spacing={3}\r\n                            >\r\n                                <Stack direction={{ md: 'row', sm: 'column' }} alignItems={{ md: \"flex-start\", sm: 'center' }} justifyContent={\"center\"} spacing={3}>\r\n                                    <AspectRatio\r\n                                        ratio=\"1\"\r\n                                        maxHeight={200}\r\n                                        sx={{ flex: 1, minWidth: 120, borderRadius: \"100%\" }}\r\n                                    >\r\n                                        <img\r\n                                            //if data.avatar is null, use default pic\r\n                                            src={DefaultPic}\r\n                                            // srcSet=\"https://images.unsplash.com/photo-1535713875002-d1d0cf377fde?auto=format&fit=crop&w=286&dpr=2 2x\"\r\n                                            // loading=\"lazy\"\r\n                                            alt=\"\"\r\n                                        />\r\n                                    </AspectRatio>\r\n                                    <Stack direction={\"column\"} justifyContent=\"space-between\"  >\r\n                                        <Typography\r\n                                            level=\"h2\"\r\n                                            sx={{\r\n                                                mt: 1,\r\n                                                mx: 2,\r\n\r\n                                            }}\r\n                                        >\r\n                                            {/* every place add null checks */}\r\n                                            {caseDetailsNew?.first_name} {caseDetailsNew?.last_name}\r\n                                        </Typography>\r\n                                        <Stack direction=\"row\" justifyContent=\"flex-start\" alignItems=\"center\" >\r\n\r\n                                            <Stack direction=\"column\" justifyContent=\"flex-start \" >\r\n                                                <Typography\r\n                                                    level=\"title-sm\"\r\n                                                    sx={{\r\n                                                        mt: 1,\r\n                                                        mb: 2,\r\n\r\n                                                        mx: 2,\r\n                                                    }}\r\n                                                >\r\n                                                    Age {caseDetailsNew?.age}\r\n                                                </Typography>\r\n                                                <Typography\r\n                                                    level=\"title-sm\"\r\n                                                    sx={{\r\n                                                        mt: 1,\r\n                                                        mb: 2,\r\n                                                        mx: 2,\r\n\r\n                                                    }}\r\n                                                >\r\n                                                    Gender {caseDetails.gender}\r\n                                                </Typography>\r\n                                            </Stack>\r\n                                            <Stack direction=\"column\" justifyContent=\"flex-start\">\r\n\r\n                                                <Typography\r\n                                                    level=\"title-sm\"\r\n                                                    sx={{\r\n                                                        mt: 1,\r\n                                                        mb: 2,\r\n                                                        mx: 2,\r\n                                                    }}\r\n                                                >\r\n                                                    Status\r\n\r\n                                                    <Chip\r\n                                                        sx={{ ml: 3 }}\r\n                                                        color=\"primary\"\r\n                                                    >\r\n                                                        {caseDetailsNew?.status}\r\n                                                    </Chip>\r\n\r\n                                                </Typography>\r\n                                                <Typography\r\n                                                    level=\"title-sm\"\r\n                                                    sx={{\r\n                                                        mt: 1,\r\n                                                        mb: 2,\r\n                                                        mx: 2,\r\n                                                    }}\r\n                                                >\r\n                                                    Email {caseDetailsNew?.email}\r\n                                                </Typography>\r\n                                            </Stack>\r\n                                        </Stack>\r\n\r\n\r\n                                    </Stack>\r\n                                </Stack>\r\n\r\n                            </Stack>\r\n                            <Stack direction=\"row\" alignItems=\"flex-end\" justifyContent=\"flex-end\" spacing={3}>\r\n                                <IconButton title='Add Note' variant=\"soft\" color=\"primary\" size=\"sm\" onClick={handleOpen}>\r\n                                    <EditNoteIcon />\r\n                                </IconButton >\r\n                                {/* // add tool tip to icon */}\r\n\r\n\r\n                                <IconButton title='Schedule' variant=\"soft\" color=\"primary\" size=\"sm\" onClick={handleOpen}>\r\n                                    <DataSaverOnIcon />\r\n                                </IconButton >\r\n\r\n                                <IconButton title='Patient Profile' variant=\"soft\" color=\"primary\" size=\"sm\" onClick={navigateToCases}>\r\n                                    <ManageAccountsIcon />\r\n\r\n                                </IconButton >\r\n\r\n                            </Stack>\r\n                        </Stack>\r\n                    </Card>\r\n                </Box>\r\n            </Box>\r\n            <Tabs\r\n                defaultValue={0}\r\n                sx={{\r\n                    bgcolor: 'transparent',\r\n                }}\r\n            >\r\n                <TabList\r\n                    tabFlex={1}\r\n                    size=\"sm\"\r\n                    sx={{\r\n                        zIndex: 1000,\r\n                        position: 'sticky',\r\n                        top: {\r\n                            sm: 3000,\r\n                            md: 0,\r\n                        },\r\n                        bgcolor: 'background.body',\r\n                        pl: {\r\n                            xs: 0,\r\n                            md: 4,\r\n                        },\r\n                        justifyContent: 'left',\r\n                        [`&& .${tabClasses.root}`]: {\r\n                            flex: 'initial',\r\n                            bgcolor: 'transparent',\r\n                            [`&.${tabClasses.selected}`]: {\r\n                                fontWeight: '600',\r\n                                '&::after': {\r\n                                    height: '2px',\r\n                                    bgcolor: 'primary.500',\r\n                                },\r\n                            },\r\n                        },\r\n                    }}\r\n                >\r\n                    <Tab sx={{ borderRadius: '6px 6px 0 0' }} indicatorInset value={0}>\r\n                        Primary Details\r\n                    </Tab>\r\n                    <Tab sx={{ borderRadius: '6px 6px 0 0' }} indicatorInset value={1}>\r\n                        Activity Log\r\n                    </Tab>\r\n                    <Tab sx={{ borderRadius: '6px 6px 0 0' }} indicatorInset value={2}>\r\n                        Documents\r\n                    </Tab>\r\n                </TabList>\r\n                <TabPanel value={0}>\r\n                    <AccordionGroup\r\n                        variant=\"plain\"\r\n                        transition=\"0.2s\"\r\n                        sx={{\r\n                            maxWidth: '800px',\r\n                            mx: 'auto',\r\n                            px: {\r\n                                xs: 2,\r\n                                md: 6,\r\n                            },\r\n                            py: {\r\n                                xs: 2,\r\n                                md: 3,\r\n                            },\r\n                            borderRadius: 'md',\r\n                            [`& .${accordionDetailsClasses.content}.${accordionDetailsClasses.expanded}`]:\r\n                            {\r\n                                paddingBlock: '1rem',\r\n                            },\r\n                            [`& .${accordionSummaryClasses.button}`]: {\r\n                                paddingBlock: '1rem',\r\n                            },\r\n                        }}\r\n                    >\r\n                        <Accordion>\r\n                            <AccordionSummary>\r\n                                <Avatar color=\"primary\">\r\n                                    <TapAndPlayRoundedIcon />\r\n                                </Avatar>\r\n                                <ListItemContent>\r\n                                    <Typography level=\"title-md\">Sugery Details</Typography>\r\n                                    <Typography level=\"body-sm\">\r\n                                        Activate or deactivate your connections\r\n                                    </Typography>\r\n                                </ListItemContent>\r\n                            </AccordionSummary>\r\n                            <AccordionDetails>\r\n                                <SurgeryDetails surgeryDetails={caseDetails.surgery_scheduled[0]} />\r\n                            </AccordionDetails>\r\n                        </Accordion>\r\n                    </AccordionGroup>\r\n                </TabPanel>\r\n                <TabPanel value={1}>\r\n                    <AccordionGroup\r\n                        variant=\"plain\"\r\n                        transition=\"0.2s\"\r\n                        sx={{\r\n                            maxWidth: '800px',\r\n                            mx: 'auto',\r\n                            px: {\r\n                                xs: 2,\r\n                                md: 6,\r\n                            },\r\n                            py: {\r\n                                xs: 2,\r\n                                md: 3,\r\n                            },\r\n                            borderRadius: 'md',\r\n                            [`& .${accordionDetailsClasses.content}.${accordionDetailsClasses.expanded}`]:\r\n                            {\r\n                                paddingBlock: '1rem',\r\n                            },\r\n                            [`& .${accordionSummaryClasses.button}`]: {\r\n                                paddingBlock: '1rem',\r\n                            },\r\n                        }}\r\n                    >\r\n\r\n                        <ActivityLogComponent case_activity_item={caseDetailsNew?.activity_items || []} />\r\n\r\n                    </AccordionGroup>\r\n                </TabPanel>\r\n                <TabPanel value={2}>\r\n                    {/* responsive grid to show documents\r\n                */}\r\n                </TabPanel>\r\n            </Tabs>\r\n            {/* below is example code from mui which can be used for responsive ness and other stuctrure settig */}\r\n        </Box>\r\n        {open &&\r\n            <AddActivity open={open} setOpen={setOpen} caseId={id} type={\"note\"} />\r\n        }\r\n\r\n    </Stack >\r\n}","import React, { useMemo } from 'react';\r\nimport styled from '@emotion/styled';\r\nimport { isSameDay, startOfWeek } from 'date-fns';\r\n\r\n\r\nconst CELL_HEIGHT = 50; // Fixed height for each cell\r\n\r\nconst Scroller = styled.div`\r\n    overflow: auto;\r\n    height: 100%;\r\n    width: 100%;\r\n`;\r\n\r\nconst WeekViewCalendarContainer = styled.div`\r\n  display: flex;\r\n`;\r\n\r\nconst TimeColumn = styled.div`\r\n  border-right: 1px solid #ddd;\r\n  padding: 0px 10px;\r\n  text-align: center;\r\n  position: sticky;\r\n  left: 0;\r\n  background-color: #f0f0f0;\r\n  z-index: 1;\r\n\r\n  height: ${CELL_HEIGHT * 25}px;\r\n  display: flex;\r\n  flex-direction: column;\r\n`;\r\n\r\nconst DayColumn = styled.div`\r\n  flex: 1;\r\n  position: relative;\r\n  height: ${CELL_HEIGHT * 25}px;\r\n  display: flex;\r\n  flex-direction: column;\r\n`;\r\n\r\nconst DayCell = styled.div`\r\n  border-bottom: 1px solid #ddd;\r\n  padding: 10px;\r\n  text-align: center;\r\n  font-weight: bold;\r\n  position: sticky;\r\n  top: 0;\r\n  background-color: #f0f0f0;\r\n  z-index: 1;\r\n  flex:1;\r\n\r\n`;\r\n\r\nconst HourCell = styled.div`\r\n  border-right: 1px solid #ddd;\r\n  border-bottom: 1px solid #ddd;\r\n  padding: 10px;\r\n  text-align: center;\r\n  flex:1;\r\n  \r\n  :hover {\r\n    background-color: #f0f0f0;\r\n    cursor: pointer;\r\n  }\r\n\r\n`;\r\n\r\nconst Event = styled.div`\r\n  position: absolute;\r\n  padding: 5px;\r\n  border-radius: 4px;\r\n  overflow: hidden;\r\n  white-space: nowrap;\r\n  text-overflow: ellipsis;\r\n\r\n  transition: box-shadow 0.2s ease-in-out;\r\n\r\n  &:hover {\r\n    cursor: pointer;\r\n    box-shadow: 0 0 0 2px rgba(0, 0, 0, 0.2);\r\n  }\r\n`;\r\n\r\nconst LunchEvent = styled(Event)`\r\n  background-color: #4caf50;\r\n`;\r\n\r\nexport type WeekViewEventType = {\r\n    title: string;\r\n    startTime: string;\r\n    endTime: string;\r\n    type: 'surgery' | 'block';\r\n    id: string;\r\n    case: any;\r\n}\r\ntype Props = {\r\n    events: WeekViewEventType[], range: { start: string, end: string }, onSelectRange: (start: Date, end: Date) => void,\r\n    onEventClick: (event: WeekViewEventType) => void\r\n};\r\n\r\nconst WeekView = ({ events, range = {\r\n    start: startOfWeek(new Date()).toDateString(),\r\n    end: startOfWeek(new Date()).toDateString(),\r\n}, onSelectRange, onEventClick }: Props) => {\r\n    const hoursOfDay = Array.from({ length: 24 }, (_, i) => i);\r\n\r\n    const getEventsForDate = (date: string) => {\r\n        const dateObj = new Date(date);\r\n        return events.filter((event) => {\r\n            const eventDate = new Date(event.startTime);\r\n            return isSameDay(eventDate, dateObj)\r\n        });\r\n    }\r\n\r\n\r\n    const dates = useMemo(() => {\r\n        // YYYY-MM-DD\r\n        return Array.from({ length: 7 }, (_, i) => {\r\n            const date = new Date(range.start);\r\n            date.setDate(date.getDate() + i);\r\n            return date.toISOString().split('T')[0];\r\n        }\r\n        );\r\n    }, [range])\r\n\r\n\r\n    const handleHourClick = (date: string, hour: number) => {\r\n        const dateObj = new Date(date);\r\n        dateObj.setHours(hour);\r\n        onSelectRange(dateObj, new Date(dateObj.getTime() + 60 * 60 * 1000));\r\n    }\r\n\r\n    return (\r\n        <Scroller>\r\n            <WeekViewCalendarContainer>\r\n                <TimeColumn>\r\n                    <div style={{ height: CELL_HEIGHT }}></div>\r\n                    {hoursOfDay.map((hour) => (\r\n                        <div key={hour} style={{ height: CELL_HEIGHT }}>{`${hour % 12 === 0 ? 12 : hour % 12} ${hour < 12 ? 'AM' : 'PM'}`}</div>\r\n                    ))}\r\n                </TimeColumn>\r\n                {dates.map((date, index) => {\r\n                    const dateObj = new Date(date);\r\n                    const dayEvents = getEventsForDate(date);\r\n\r\n                    return (\r\n                        <DayColumn key={index}>\r\n                            <DayCell>{\r\n                                dateObj.toLocaleDateString([], {\r\n                                    weekday: 'short',\r\n                                    month: 'short',\r\n                                    day: 'numeric',\r\n                                })\r\n                            }</DayCell>\r\n                            {hoursOfDay.map((hour) => (\r\n                                <HourCell key={`${index}-${hour}`} style={{ height: CELL_HEIGHT }} onClick={e => {\r\n                                    handleHourClick(date, hour);\r\n                                }} />\r\n                            ))}\r\n                            {dayEvents\r\n                                .map((event, eventIndex) => {\r\n                                    const secondsInDay = 25 * 60 * 60;\r\n                                    const start = new Date(event.startTime);\r\n                                    const end = new Date(event.endTime);\r\n                                    const startSeconds = start.getHours() * 60 * 60 + start.getMinutes() * 60 + start.getSeconds();\r\n                                    const endSeconds = end.getHours() * 60 * 60 + end.getMinutes() * 60 + end.getSeconds();\r\n\r\n\r\n                                    const topPercent = startSeconds * 100 / secondsInDay;\r\n                                    const heightPercent = (endSeconds - startSeconds) * 100 / secondsInDay;\r\n                                    console.log('event', event, { startSeconds, endSeconds, secondsInDay, topPercent });\r\n\r\n\r\n                                    return (\r\n                                        <Event\r\n                                            key={eventIndex}\r\n                                            style={{\r\n                                                top: `${topPercent}%`,\r\n                                                height: `${heightPercent}%`,\r\n\r\n                                                transform: `translateY(${CELL_HEIGHT}px)`,\r\n                                                backgroundColor: event.type === 'surgery' ? '#4caf50' : '#a44336',\r\n                                                color: '#fff',\r\n                                            }}\r\n                                            onClick={() => {\r\n                                                onEventClick(event)\r\n                                            }}\r\n                                        >\r\n                                            <div>{event.title}</div>\r\n                                            <div>\r\n                                                {`${new Date(event.startTime).toLocaleTimeString([], {\r\n                                                    hour: '2-digit',\r\n                                                    minute: '2-digit',\r\n                                                })} - ${new Date(event.endTime).toLocaleTimeString([], {\r\n                                                    hour: '2-digit',\r\n                                                    minute: '2-digit',\r\n                                                })}`}\r\n                                            </div>\r\n                                        </Event>\r\n                                    )\r\n                                })}\r\n                        </DayColumn>\r\n                    );\r\n                })}\r\n            </WeekViewCalendarContainer>\r\n        </Scroller>\r\n    );\r\n};\r\n\r\nexport default WeekView;\r\n","import { Box, Button, DialogTitle, FormControl, FormLabel, Input, Modal, ModalClose, ModalDialog, Typography } from '@mui/joy';\r\nimport { Stack } from '@mui/material';\r\nimport { format, parse } from 'date-fns';\r\nimport React, { useEffect } from 'react';\r\nimport { Form } from 'react-router-dom';\r\nimport { pb } from '../../../services/pocketbase';\r\n\r\n\r\n\r\nexport default function BlockTimeModal({ onClose, onBlockTimeCreated, open, start: startP, end: endP }) {\r\n\r\n\r\n\r\n    const [start, setStart] = React.useState(new Date());\r\n    const [end, setEnd] = React.useState(new Date());\r\n\r\n\r\n    useEffect(() => {\r\n        if (startP) {\r\n            setStart(new Date(startP))\r\n        }\r\n        if (endP) {\r\n            setEnd(new Date(endP))\r\n        }\r\n    }, [startP, endP])\r\n\r\n\r\n    console.log(start, end)\r\n\r\n\r\n\r\n    const handleClose = () => {\r\n        onClose()\r\n    }\r\n\r\n\r\n    const handleSubmit = () => {\r\n        // create a new scheduled_event pocketbase of type block\r\n        pb.collection('schedule_items').create({\r\n            type: 'block',\r\n            start: start,\r\n            end: end,\r\n            user: pb.authStore.model.id\r\n        })\r\n            .then((res) => {\r\n                console.log(res)\r\n                handleClose()\r\n                onBlockTimeCreated(res)\r\n            })\r\n    }\r\n\r\n    return <Modal onClose={handleClose} open={open}>\r\n\r\n        <ModalDialog>\r\n            <ModalClose />\r\n\r\n            <DialogTitle >\r\n                Block Time\r\n            </DialogTitle>\r\n            <Typography variant='p'>\r\n                Block your calendar and let your team know you're busy.\r\n            </Typography>\r\n\r\n\r\n            <Stack spacing={2} >\r\n                <FormControl  >\r\n                    <FormLabel>Date</FormLabel>\r\n                    <Input\r\n\r\n                        type=\"date\"\r\n                        slotProps={{\r\n                            input: {\r\n                                min: \"2018-06-07T00:00\",\r\n                                max: \"2018-06-14T00:00\",\r\n                            },\r\n                        }}\r\n                        value={format(start, 'yyyy-MM-dd')}\r\n                        onChange={(e) => {\r\n                            const date = new Date(e.target.value)\r\n                            date.setHours(start.getHours())\r\n                            date.setMinutes(start.getMinutes())\r\n                            setStart(date)\r\n                        }}\r\n                    />\r\n                </FormControl>\r\n\r\n\r\n                <Stack direction=\"row\" spacing={2}>\r\n\r\n                    <FormControl sx={{ flex: 1 }}>\r\n                        <FormLabel>\r\n                            From\r\n                        </FormLabel>\r\n                        <Input\r\n\r\n                            type=\"time\"\r\n                            slotProps={{\r\n                                input: {\r\n                                    min: \"2018-06-07T00:00\",\r\n                                    max: \"2018-06-14T00:00\",\r\n                                },\r\n                            }}\r\n                            value={format(start, 'HH:mm')}\r\n                            onChange={(e) => {\r\n                                // parse the time and set the date\r\n                                const time = parse(e.target.value, 'HH:mm', new Date());\r\n                                const newStart = new Date(start)\r\n                                newStart.setHours(time.getHours())\r\n                                newStart.setMinutes(time.getMinutes())\r\n                                setStart(newStart)\r\n                            }}\r\n                        />\r\n                    </FormControl>\r\n\r\n\r\n                    <FormControl\r\n                        sx={{ flex: 1 }}\r\n\r\n                    >\r\n                        <FormLabel>Until</FormLabel>\r\n                        <Input\r\n\r\n                            type=\"time\"\r\n                            slotProps={{\r\n                                input: {\r\n                                    min: \"2018-06-07T00:00\",\r\n                                    max: \"2018-06-14T00:00\",\r\n                                },\r\n                            }}\r\n                            value={format(end, 'HH:mm')}\r\n                            onChange={(e) => {\r\n                                // parse the time and set the date\r\n                                const time = parse(e.target.value, 'HH:mm', new Date());\r\n                                const newEnd = new Date(end)\r\n                                newEnd.setHours(time.getHours())\r\n                                newEnd.setMinutes(time.getMinutes())\r\n                                setEnd(newEnd)\r\n                            }}\r\n                        />\r\n                    </FormControl>\r\n\r\n\r\n                </Stack>\r\n                <Box\r\n                    sx={{\r\n                        mt: 1,\r\n                        display: 'flex',\r\n                        gap: 1,\r\n                        flexDirection: { xs: 'column', sm: 'row-reverse' },\r\n                    }}\r\n                >\r\n\r\n                    <Button variant=\"solid\" color=\"primary\" onClick={\r\n                        handleSubmit\r\n                    }>\r\n                        Save\r\n                    </Button>\r\n                    <Button\r\n                        variant=\"outlined\"\r\n                        color=\"neutral\"\r\n                        onClick={handleClose}\r\n                    >\r\n                        Cancel\r\n                    </Button>\r\n\r\n                </Box>\r\n            </Stack>\r\n        </ModalDialog>\r\n\r\n    </Modal>\r\n\r\n}","import React, { useEffect, useMemo } from 'react';\r\nimport { pb } from '../../services/pocketbase';\r\nimport { addHours, endOfWeek, startOfDay, startOfHour, startOfWeek, subDays } from 'date-fns';\r\nimport { ListResult, RecordModel } from 'pocketbase';\r\nimport WeekView, { WeekViewEventType } from './WeekView';\r\nimport { Stack } from '@mui/material';\r\nimport { Button, Typography } from '@mui/joy';\r\nimport { Close } from '@mui/icons-material';\r\nimport BlockTimeModal from './modules/BlockTimeModal';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\n\r\n\r\nexport default function CalendarScreen() {\r\n\r\n    const navigate = useNavigate();\r\n    const [scheduledItems, setScheduledItems] = React.useState<ListResult<RecordModel>>()\r\n    const [range, setRange] = React.useState({\r\n        start: startOfWeek(new Date()).toISOString(),\r\n        end: endOfWeek(new Date()).toISOString(),\r\n    })\r\n\r\n    const [blockTimeModalProps, setBlockTimeModalProps] = React.useState<any>({\r\n        open: false,\r\n        start: new Date(),\r\n        end: new Date(),\r\n    })\r\n\r\n    const handleBlockTime = ({ start = new Date(), end = addHours(new Date(), 1) } = {}) => {\r\n        setBlockTimeModalProps({\r\n            open: true,\r\n            start,\r\n            end,\r\n        })\r\n    }\r\n\r\n    const events: WeekViewEventType[] = useMemo(() => {\r\n        if (!scheduledItems) {\r\n            return []\r\n        }\r\n        return scheduledItems.items.map((item) => {\r\n            return {\r\n                id: item.id,\r\n                title: item.title,\r\n                startTime: item.start,\r\n                endTime: item.end,\r\n                type: item.type as any,\r\n                case: item.case,\r\n            }\r\n        })\r\n\r\n    }, [scheduledItems])\r\n\r\n    const fetchScheduledItems = async () => {\r\n        // find schedule items for this user\r\n        pb.collection('schedule_items').getList(1, 50, {\r\n            filter: `user.id = \"${pb.authStore.model?.id}\"`,\r\n            expand: `case`\r\n        })\r\n            .then((items) => {\r\n                setScheduledItems(items as any)\r\n            })\r\n            .catch((error) => {\r\n                console.error(error)\r\n            })\r\n    }\r\n    useEffect(() => {\r\n        fetchScheduledItems()\r\n    }, [])\r\n\r\n\r\n    const handleSelectRange = (start: Date, end: Date) => {\r\n        handleBlockTime({\r\n            start,\r\n            end,\r\n        })\r\n    }\r\n\r\n\r\n\r\n    return <div>\r\n\r\n        <Stack direction='row' gap={1} justifyContent=\"space-between\" mb={2}>\r\n            <Typography level=\"h2\">Assigned To You</Typography>\r\n            <Button\r\n                color=\"primary\"\r\n                startDecorator={<Close />}\r\n                size=\"sm\"\r\n                onClick={() => handleBlockTime()}\r\n            >\r\n                Block Time\r\n            </Button>\r\n        </Stack>\r\n\r\n        <WeekView events={events} range={range} onSelectRange={handleSelectRange} onEventClick={\r\n            (event) => {\r\n                if (event.type === 'block') {\r\n                    return\r\n                }\r\n\r\n                navigate(`/cases/${event.case.id}`)\r\n\r\n            }\r\n        } />\r\n\r\n        {blockTimeModalProps &&\r\n            <BlockTimeModal\r\n                open={blockTimeModalProps.open}\r\n                start={blockTimeModalProps.start}\r\n                end={blockTimeModalProps.end}\r\n                onClose={() => setBlockTimeModalProps(null)}\r\n                onBlockTimeCreated={\r\n                    fetchScheduledItems\r\n                }\r\n            />}\r\n    </div>\r\n}","import React, { Suspense } from \"react\";\r\nimport OrderTable from \"./views/cases/CasesTable\";\r\nimport OrderList from \"./components/OrderList\";\r\nimport menuItems from \"./nav\";\r\nimport Box from \"@mui/joy/Box\";\r\n\r\nimport Breadcrumbs from \"@mui/joy/Breadcrumbs\";\r\nimport Link from \"@mui/joy/Link\";\r\nimport Typography from \"@mui/joy/Typography\";\r\n// icons\r\nimport HomeRoundedIcon from \"@mui/icons-material/HomeRounded\";\r\nimport ChevronRightRoundedIcon from \"@mui/icons-material/ChevronRightRounded\";\r\nimport DownloadRoundedIcon from \"@mui/icons-material/DownloadRounded\";\r\nimport Button from \"@mui/joy/Button\";\r\nimport { CircularProgress } from \"@mui/joy\";\r\nimport { Navigate, Route, Routes, BrowserRouter } from \"react-router-dom\";\r\nimport Dashboard from \"./views/dashboard/Dashboard\";\r\nimport Cases from \"./views/cases/Cases\";\r\nimport AssignedAppointments from \"./views/assigned/AssignedAppointments\";\r\nimport CaseView from \"./views/cases/CaseView/CaseView\";\r\nimport AddCase from \"./views/addCase/AddCase\";\r\nimport DetailView from \"./views/cases/CaseView/DetailView\";\r\nimport CalendarScreen from \"./views/calendar/CalendarScreen\";\r\n\r\nexport default function AppContent() {\r\n  return (\r\n    <>\r\n      <Box\r\n        component=\"main\"\r\n        className=\"MainContent\"\r\n        sx={{\r\n          marginLeft: {\r\n            md: \"var(--Sidebar-width)\"\r\n          }\r\n          ,\r\n\r\n          px: {\r\n            xs: 2,\r\n            md: 6,\r\n          },\r\n          pt: {\r\n            xs: \"calc(12px + var(--Header-height))\",\r\n            sm: \"calc(12px + var(--Header-height))\",\r\n            md: 3,\r\n          },\r\n          pb: {\r\n            xs: 2,\r\n            sm: 2,\r\n            md: 3,\r\n          },\r\n          flex: 1,\r\n          display: \"flex\",\r\n          flexDirection: \"column\",\r\n          minWidth: 0,\r\n          height: \"100dvh\",\r\n          gap: 1,\r\n        }}\r\n      >\r\n        <Suspense fallback={<CircularProgress color=\"primary\" />}>\r\n          <Routes>\r\n            <Route key={\"cases\"} path={\"/cases/details/:id\"} element={<DetailView />} />\r\n            <Route key={\"cases\"} path={\"/cases/:id\"} element={<CaseView />} />\r\n\r\n            {/* <Route key={\"cases\"} path={\"/cases*\"} element={<Cases />} /> */}\r\n            <Route key={\"cases\"} path={\"/cases/*\"} element={<Cases />} />\r\n\r\n            <Route\r\n              key={\"Calendar\"}\r\n              path={\"/calendar\"}\r\n              element={<CalendarScreen />}\r\n            />\r\n            <Route key={\"stats\"} path={\"/stats\"} element={<Dashboard />} />\r\n            <Route\r\n              key={\"assigned\"}\r\n              path={\"/assigned\"}\r\n              element={<AssignedAppointments />}\r\n            />\r\n            <Route key={\"addCase\"} path={\"/addCase\"} element={<AddCase />} />\r\n          </Routes>\r\n        </Suspense>\r\n      </Box>\r\n    </>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport Header from \"./components/Header\";\r\n\r\nimport SidebarNew from \"./components/SidebarNew\";\r\nimport OrderTable from \"./views/cases/CasesTable\";\r\nimport OrderList from \"./components/OrderList\";\r\nimport menuItems from \"./nav\";\r\nimport Box from \"@mui/joy/Box\";\r\n\r\nimport Breadcrumbs from \"@mui/joy/Breadcrumbs\";\r\nimport Link from \"@mui/joy/Link\";\r\nimport Typography from \"@mui/joy/Typography\";\r\n// icons\r\nimport HomeRoundedIcon from \"@mui/icons-material/HomeRounded\";\r\nimport ChevronRightRoundedIcon from \"@mui/icons-material/ChevronRightRounded\";\r\nimport DownloadRoundedIcon from \"@mui/icons-material/DownloadRounded\";\r\nimport Button from \"@mui/joy/Button\";\r\nimport AppContent from \"./AppContent\";\r\nimport { pb } from \"./services/pocketbase\";\r\nimport { Navigate } from \"react-router-dom\";\r\n\r\nexport default function AppLayout() {\r\n\r\n  if (pb.authStore.isValid == false) {\r\n    return <Navigate replace to=\"/login\" />;\r\n  }\r\n  return (\r\n    <>\r\n      <Header />\r\n      <SidebarNew menuItems={menuItems} />\r\n      <AppContent />\r\n    </>\r\n  );\r\n}\r\n"],"names":["closeSidebar","document","documentElement","style","removeProperty","body","toggleSidebar","window","getComputedStyle","getPropertyValue","overflow","setProperty","Header","_jsxs","Sheet","sx","display","xs","md","alignItems","justifyContent","position","top","width","height","zIndex","p","gap","borderBottom","borderColor","boxShadow","children","_jsx","GlobalStyles","styles","theme","breakpoints","up","IconButton","onClick","variant","color","size","MenuIcon","ColorSchemeToggle","_ref","props","mode","setMode","useColorScheme","mounted","setMounted","React","id","event","Array","isArray","DarkModeRoundedIcon","LightModeIcon","disabled","Toggler","defaultExpanded","renderToggle","open","setOpen","Box","gridTemplateRows","transition","Sidebar","_ref2","menuItems","logout","navigate","useNavigate","async","pb","authStore","clear","useLogout","className","transform","flexShrink","flexDirection","borderRight","left","opacity","backgroundColor","lg","BrightnessAutoRoundedIcon","Typography","level","LogoutRoundedIcon","ml","List","map","menuItem","index","ListItem","nested","_ref3","ListItemButton","icon","ListItemContent","label","KeyboardArrowDownIcon","submenu","nestedItem","nestedIndex","role","component","RouterLink","to","link","AssignmentIndRounded","HomeRoundedIcon","CalendarMonthRounded","DashboardRoundedIcon","PersonAddIcon","dashboardData","Dashboard","mb","Stack","CasesTable","patients","page","setPage","useState","patientsData","setPatientsData","pagePatients","setPagePatients","useEffect","startIndex","endIndex","slicedPatients","slice","handleChangePage","newPage","borderRadius","py","sm","flexWrap","minWidth","FormControl","flex","FormLabel","Input","placeholder","startDecorator","SearchIcon","onChange","e","value","target","toLowerCase","trim","filteredPatientsResult","filter","patient","name","includes","dob","status","minHeight","Table","stickyHeader","hoverRow","padding","row","Link","navigateToCase","concat","title","VisibilityIcon","pt","iconButtonClasses","root","Button","KeyboardArrowLeftIcon","from","length","Math","ceil","_","Number","endDecorator","KeyboardArrowRightIcon","formatDate","dateString","date","Date","now","toDateString","secondsAgo","floor","getTime","minutesAgo","hoursAgo","toLocaleDateString","undefined","year","month","day","hour","minute","second","Cases","setPatients","convertDate","split","console","log","collection","getFullList","sort","requestKey","record","first_name","last_name","getList","_Fragment","my","OrderTable","listItems","customer","initial","email","RowMenu","Dropdown","MenuButton","slots","slotProps","MoreHorizRoundedIcon","Menu","MenuItem","Divider","OrderList","listItem","ListItemDecorator","Avatar","fontWeight","gutterBottom","Chip","Paid","CheckRoundedIcon","Refunded","AutorenewRoundedIcon","Cancelled","BlockIcon","ListDivider","mx","_item$expand","item","durationFormatted","useMemo","start","end","duration","intervalToDuration","formatDuration","format","caseDetails","expand","case","textDecoration","Card","direction","phone","textAlign","procedures","procedure","laterality","site","cpt_code","Vaccines","anesthesia_type","anesthesia_position","specialty","AssignedAppointments","result","setResult","range","setRange","startOfWeek","toISOString","endOfWeek","_pb$authStore$model","model","then","items","catch","error","scheduledItems","maxWidth","ScheduledItem","CountrySelector","Autocomplete","autoHighlight","isOptionEqualToValue","option","code","defaultValue","options","countries","renderOption","optionProps","AutocompleteOption","AspectRatio","ratio","loading","srcSet","src","alt","textColor","input","autoComplete","suggested","Caseview","caseId","useParams","data","setData","editMode","setEditMode","Surgery","setSurgery","getOne","fetchCaseData","handleChange","prevData","bgcolor","px","mt","spacing","handleEditModeToggle","prevEditMode","ArticleIcon","EditRoundedIcon","maxHeight","DefaultPic","flexGrow","phone_number","LocalPhoneIcon","type","EmailRoundedIcon","Grid3x3Icon","ssn","HomeIcon","Select","sex","required","Option","BusinessIcon","max","AccessTimeFilledRoundedIcon","Textarea","minRows","FormHelperText","fontSize","CardOverflow","borderTop","CardActions","alignSelf","preventDefault","update","updateData","MyProfile","setdata","procedure_details","setProcedure","cptCode","setCptCode","min","Checkbox","checked","LocalHospitalIcon","handleAddProcedure","updatedProcedures","border","marginTop","splice","handleRemoveProcedure","CloseIcon","create","err","handleSubmit","surgeryDetails","marginLeft","case_activity_item","activityItem","_activityItem$meta","_activityItem$meta2","note","Accordion","AccordionSummary","FormatListBulletedIcon","TapAndPlayRoundedIcon","HistoryToggleOffIcon","meta","join","created","AccordionDetails","handleClose","overflowY","Modal","onClose","ModalDialog","ModalClose","onSubmit","encType","DetailView","caseDetailsNew","setCaseDetailsNew","setCaseDetails","age","gender","user","attachments","surgery_scheduled_id","surgery_scheduled","caseDetailsResponse","birthday","ageDifMs","ageDate","abs","getUTCFullYear","calculateAge","activity_items","a","b","fetchData","handleOpen","EditNoteIcon","DataSaverOnIcon","navigateToCases","replace","ManageAccountsIcon","Tabs","TabList","tabFlex","pl","tabClasses","selected","Tab","indicatorInset","TabPanel","AccordionGroup","accordionDetailsClasses","content","expanded","paddingBlock","accordionSummaryClasses","button","SurgeryDetails","ActivityLogComponent","AddActivity","CELL_HEIGHT","Scroller","styled","div","_templateObject","_taggedTemplateLiteral","WeekViewCalendarContainer","_templateObject2","TimeColumn","_templateObject3","DayColumn","_templateObject4","DayCell","_templateObject5","HourCell","_templateObject6","Event","_templateObject7","_templateObject8","events","onSelectRange","onEventClick","hoursOfDay","i","dates","setDate","getDate","dateObj","dayEvents","eventDate","startTime","isSameDay","getEventsForDate","weekday","handleHourClick","setHours","eventIndex","secondsInDay","endTime","startSeconds","getHours","getMinutes","getSeconds","endSeconds","topPercent","heightPercent","toLocaleTimeString","BlockTimeModal","onBlockTimeCreated","startP","endP","setStart","setEnd","DialogTitle","setMinutes","time","parse","newStart","newEnd","res","CalendarScreen","setScheduledItems","blockTimeModalProps","setBlockTimeModalProps","handleBlockTime","addHours","arguments","fetchScheduledItems","Close","WeekView","handleSelectRange","AppContent","Suspense","fallback","CircularProgress","Routes","Route","path","element","CaseView","AddCase","AppLayout","isValid","Navigate","SidebarNew"],"sourceRoot":""}